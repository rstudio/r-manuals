<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head>
  <meta charset="utf-8">
  <meta name="generator" content="quarto-0.2.462">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>R Manuals :: An Introduction to R - 16&nbsp; Invoking R</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script src="site_libs/quarto-nav/quarto-nav.js"></script>
  <script src="site_libs/quarto-nav/headroom.min.js"></script>
  <script src="site_libs/clipboard/clipboard.min.js"></script>
  <meta name="quarto:offset" content="./">
  <script src="site_libs/quarto-search/autocomplete.umd.js"></script>
  <script src="site_libs/quarto-search/fuse.min.js"></script>
  <script src="site_libs/quarto-search/quarto-search.js"></script>
  <link href="./The-command-line-editor.html" rel="next">
  <link href="./A-sample-session.html" rel="prev">
  <script src="site_libs/quarto-html/quarto.js"></script>
  <script src="site_libs/quarto-html/popper.min.js"></script>
  <script src="site_libs/quarto-html/tippy.umd.min.js"></script>
  <script src="site_libs/quarto-html/anchor.min.js"></script>
  <link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
  <link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
  <script src="site_libs/bootstrap/bootstrap.min.js"></script>
  <link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
  <link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
  <script id="quarto-search-options" type="application/json">{
    "location": "navbar",
    "copy-button": false,
    "collapse-after": 2,
    "panel-placement": "end",
    "type": "overlay",
    "limit": 20,
    "language": {
      "search-no-results-text": "No results",
      "search-matching-documents-text": "matching documents",
      "search-copy-link-title": "Copy link to search",
      "search-hide-matches-text": "Hide additional matches",
      "search-more-match-text": "more match in this document",
      "search-more-matches-text": "more matches in this document",
      "search-clear-button-title": "Clear",
      "search-detached-cancel-button-title": "Cancel",
      "search-submit-button-title": "Submit"
    }
  }</script>
</head>
<body class="floating">
<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">R Manuals :: An Introduction to R</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./../index.html">Home</a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-manuals" role="button" data-bs-toggle="dropdown" aria-expanded="false">Manuals</a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-manuals">    
        <li>
    <a class="dropdown-item" href="./index.html">An Introduction to R</a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../r-data/index.html">R Data Import/Export</a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../r-admin/index.html">R Installation and Administration</a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../r-exts/index.html">Writing R Extensions</a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../r-lang/index.html">R Language Definition</a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../r-ints/index.html">R Internals</a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./../about.html">About</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Invoking R</span></h1>
      <button type="button" class="quarto-btn-toggle btn">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
  <div class="sidebar-menu-container"> 
  <ul class="list-unstyled mt-1">
      <li class="sidebar-item">
  <a href="./index.html" class="">An Introduction to R</a>
</li>
      <li class="sidebar-item">
  <a href="./Preface.html" class="">Preface</a>
</li>
      <li class="sidebar-item">
  <a href="./Introduction-and-preliminaries.html" class=""><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction and preliminaries</span></a>
</li>
      <li class="sidebar-item">
  <a href="./Simple-manipulations-numbers-and-vectors.html" class=""><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Simple manipulations; numbers and vectors</span></a>
</li>
      <li class="sidebar-item">
  <a href="./Objects.html" class=""><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Objects, their modes and attributes</span></a>
</li>
      <li class="sidebar-item">
  <a href="./Factors.html" class=""><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Ordered and unordered factors</span></a>
</li>
      <li class="sidebar-item">
  <a href="./Arrays-and-matrices.html" class=""><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Arrays and matrices</span></a>
</li>
      <li class="sidebar-item">
  <a href="./Lists-and-data-frames.html" class=""><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Lists and data frames</span></a>
</li>
      <li class="sidebar-item">
  <a href="./Reading-data-from-files.html" class=""><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Reading data from files</span></a>
</li>
      <li class="sidebar-item">
  <a href="./Probability-distributions.html" class=""><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Probability distributions</span></a>
</li>
      <li class="sidebar-item">
  <a href="./Loops-and-conditional-execution.html" class=""><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Grouping, loops and conditional execution</span></a>
</li>
      <li class="sidebar-item">
  <a href="./Writing-your-own-functions.html" class=""><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Writing your own functions</span></a>
</li>
      <li class="sidebar-item">
  <a href="./Statistical-models-in-R.html" class=""><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Statistical models in R</span></a>
</li>
      <li class="sidebar-item">
  <a href="./Graphics.html" class=""><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Graphical procedures</span></a>
</li>
      <li class="sidebar-item">
  <a href="./Packages.html" class=""><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Packages</span></a>
</li>
      <li class="sidebar-item">
  <a href="./OS-facilities.html" class=""><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">OS facilities</span></a>
</li>
      <li class="sidebar-item">
  <a href="./A-sample-session.html" class=""><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">A sample session</span></a>
</li>
      <li class="sidebar-item">
  <a href="./Invoking-R.html" class="active"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Invoking R</span></a>
</li>
      <li class="sidebar-item">
  <a href="./The-command-line-editor.html" class=""><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">The command-line editor</span></a>
</li>
      <li class="sidebar-item">
  <a href="./Function-and-variable-index.html" class=""><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Function and variable index</span></a>
</li>
      <li class="sidebar-item">
  <a href="./Concept-index.html" class=""><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Concept index</span></a>
</li>
      <li class="sidebar-item">
  <a href="./References.html" class=""><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">References</span></a>
</li>
  </ul>
  </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
      <nav id="TOC" role="doc-toc">
<h2 id="toc-title">Table of contents</h2>
<ul>
<li><a href="#invoking-r-from-the-command-line" class="nav-link active" data-scroll-target="#invoking-r-from-the-command-line"> <span class="header-section-number">16.1</span> Invoking R from the command line</a></li>
<li><a href="#invoking-r-under-windows" class="nav-link" data-scroll-target="#invoking-r-under-windows"> <span class="header-section-number">16.2</span> Invoking R under Windows</a></li>
<li><a href="#invoking-r-under-macos" class="nav-link" data-scroll-target="#invoking-r-under-macos"> <span class="header-section-number">16.3</span> Invoking R under macOS</a></li>
<li><a href="#scripting-with-r" class="nav-link" data-scroll-target="#scripting-with-r"> <span class="header-section-number">16.4</span> Scripting with R</a></li>
</ul>
</nav>
    </div>
<!-- main -->
<main class="content">
<header id="title-block-header">
<h1 class="title display-7"><span id="invoking-r" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Invoking R</span></span></h1>
</header>

<p>Users of R on Windows or macOS should read the OS-specific section first, but command-line use is also supported.</p>
<section id="invoking-r-from-the-command-line" class="level2 appendixsec" data-number="16.1">
<h2 class="appendixsec anchored" data-number="16.1" data-anchor-id="invoking-r-from-the-command-line"><span class="header-section-number">16.1</span> Invoking R from the command line</h2>
<p>When working at a command line on UNIX or Windows, the command <code>R</code> can be used both for starting the main R program in the form</p>
<div class="display">
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>R [options] [<span class="sc">&lt;</span>infile] [<span class="sc">&gt;</span>outfile],</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>or, via the <code>R CMD</code> interface, as a wrapper to various R tools (e.g., for processing files in R documentation format or manipulating add-on packages) which are not intended to be called “directly”.</p>
<p>At the Windows command-line, <code>Rterm.exe</code> is preferred to <code>R</code>.</p>
<p>You need to ensure that either the environment variable <code>TMPDIR</code> is unset or it points to a valid place to create temporary files and directories.</p>
<p>Most options control what happens at the beginning and at the end of an R session. The startup mechanism is as follows (see also the on-line help for topic <code>Startup</code> for more information, and the section below for some Windows-specific details).</p>
<ul>
<li>Unless <code>--no-environ</code> was given, R searches for user and site files to process for setting environment variables. The name of the site file is the one pointed to by the environment variable <code>R_ENVIRON</code>; if this is unset, <code>R_HOME/etc/Renviron.site</code> is used (if it exists). The user file is the one pointed to by the environment variable <code>R_ENVIRON_USER</code> if this is set; otherwise, files <code>.Renviron</code> in the current or in the user’s home directory (in that order) are searched for. These files should contain lines of the form <code>name=value</code>. (See <code>help("Startup")</code> for a precise description.) Variables you might want to set include <code>R_PAPERSIZE</code> (the default paper size), <code>R_PRINTCMD</code> (the default print command) and <code>R_LIBS</code> (specifies the list of R library trees searched for add-on packages).</li>
<li>Then R searches for the site-wide startup profile unless the command line option <code>--no-site-file</code> was given. The name of this file is taken from the value of the <code>R_PROFILE</code> environment variable. If that variable is unset, the default <code>R_HOME/etc/Rprofile.site</code> is used if this exists.</li>
<li>Then, unless <code>--no-init-file</code> was given, R searches for a user profile and sources it. The name of this file is taken from the environment variable <code>R_PROFILE_USER</code>; if unset, a file called <code>.Rprofile</code> in the current directory or in the user’s home directory (in that order) is searched for.</li>
<li>It also loads a saved workspace from file <code>.RData</code> in the current directory if there is one (unless <code>--no-restore</code> or <code>--no-restore-data</code> was specified).</li>
<li>Finally, if a function <code>.First()</code> exists, it is executed. This function (as well as <code>.Last()</code> which is executed at the end of the R session) can be defined in the appropriate startup profiles, or reside in <code>.RData</code>.</li>
</ul>
<p>In addition, there are options for controlling the memory available to the R process (see the on-line help for topic <code>Memory</code> for more information). Users will not normally need to use these unless they are trying to limit the amount of memory used by R.</p>
<p>R accepts the following command-line options.</p>
<dl>
<dt><code>--help</code></dt>
<dd>
</dd>
<dt><code>-h</code></dt>
<dd><p>Print short help message to standard output and exit successfully.</p>
</dd>
<dt><code>--version</code></dt>
<dd><p>Print version information to standard output and exit successfully.</p>
</dd>
<dt><code>--encoding=enc</code></dt>
<dd><p>Specify the encoding to be assumed for input from the console or <code>stdin</code>. This needs to be an encoding known to <code>iconv</code>: see its help page. (<code>--encoding enc</code> is also accepted.) The input is re-encoded to the locale R is running in and needs to be representable in the latter’s encoding (so e.g.&nbsp;you cannot re-encode Greek text in a French locale unless that locale uses the UTF-8 encoding).</p>
</dd>
<dt><code>RHOME</code></dt>
<dd><p>Print the path to the R “home directory” to standard output and exit successfully. Apart from the front-end shell script and the man page, R installation puts everything (executables, packages, etc.) into this directory.</p>
</dd>
<dt><code>--save</code></dt>
<dd>
</dd>
<dt><code>--no-save</code></dt>
<dd><p>Control whether data sets should be saved or not at the end of the R session. If neither is given in an interactive session, the user is asked for the desired behavior when ending the session with <kbd>q()</kbd>; in non-interactive use one of these must be specified or implied by some other option (see below).</p>
</dd>
<dt><code>--no-environ</code></dt>
<dd><p>Do not read any user file to set environment variables.</p>
</dd>
<dt><code>--no-site-file</code></dt>
<dd><p>Do not read the site-wide profile at startup.</p>
</dd>
<dt><code>--no-init-file</code></dt>
<dd><p>Do not read the user’s profile at startup.</p>
</dd>
<dt><code>--restore</code></dt>
<dd>
</dd>
<dt><code>--no-restore</code></dt>
<dd>
</dd>
<dt><code>--no-restore-data</code></dt>
<dd><p>Control whether saved images (file <code>.RData</code> in the directory where R was started) should be restored at startup or not. The default is to restore. (<code>--no-restore</code> implies all the specific <code>--no-restore-*</code> options.)</p>
</dd>
<dt><code>--no-restore-history</code></dt>
<dd><p>Control whether the history file (normally file <code>.Rhistory</code> in the directory where R was started, but can be set by the environment variable <code>R_HISTFILE</code>) should be restored at startup or not. The default is to restore.</p>
</dd>
<dt><code>--no-Rconsole</code></dt>
<dd><p>(Windows only) Prevent loading the <code>Rconsole</code> file at startup.</p>
</dd>
<dt><code>--vanilla</code></dt>
<dd><p>Combine <code>--no-save</code>, <code>--no-environ</code>, <code>--no-site-file</code>, <code>--no-init-file</code> and <code>--no-restore</code>. Under Windows, this also includes <code>--no-Rconsole</code>.</p>
</dd>
<dt><code>-f file</code></dt>
<dd>
</dd>
<dt><code>--file=file</code></dt>
<dd><p>(not <code>Rgui.exe</code>) Take input from <var>file</var>: <code>-</code> means <code>stdin</code>. Implies <code>--no-save</code> unless <code>--save</code> has been set. On a Unix-alike, shell metacharacters should be avoided in <var>file</var> (but spaces are allowed).</p>
</dd>
<dt><code>-e expression</code></dt>
<dd><p>(not <code>Rgui.exe</code>) Use <var>expression</var> as an input line. One or more <code>-e</code> options can be used, but not together with <code>-f</code> or <code>--file</code>. Implies <code>--no-save</code> unless <code>--save</code> has been set. (There is a limit of 10,000 bytes on the total length of expressions used in this way. Expressions containing spaces or shell metacharacters will need to be quoted.)</p>
</dd>
<dt><code>--no-readline</code></dt>
<dd><p>(UNIX only) Turn off command-line editing via <strong>readline</strong>. This is useful when running R from within Emacs using the ESS (“Emacs Speaks Statistics”) package. See <a href="The-command_002dline-editor.html">The command-line editor</a>, for more information. Command-line editing is enabled for default interactive use (see <code>--interactive</code>). This option also affects tilde-expansion: see the help for <code>path.expand</code>.</p>
</dd>
<dt><code>--min-vsize=N</code></dt>
<dd>
</dd>
<dt><code>--min-nsize=N</code></dt>
<dd><p>For expert use only: set the initial trigger sizes for garbage collection of vector heap (in bytes) and <em>cons cells</em> (number) respectively. Suffix <code>M</code> specifies megabytes or millions of cells respectively. The defaults are 6Mb and 350k respectively and can also be set by environment variables <code>R_NSIZE</code> and <code>R_VSIZE</code>.</p>
</dd>
<dt><code>--max-ppsize=N</code></dt>
<dd><p>Specify the maximum size of the pointer protection stack as <var>N</var> locations. This defaults to 10000, but can be increased to allow large and complicated calculations to be done. Currently the maximum value accepted is 100000.</p>
</dd>
<dt><code>--quiet</code></dt>
<dd>
</dd>
<dt><code>--silent</code></dt>
<dd>
</dd>
<dt><code>-q</code></dt>
<dd><p>Do not print out the initial copyright and welcome messages.</p>
</dd>
<dt><code>--no-echo</code></dt>
<dd><p>Make R run as quietly as possible. This option is intended to support programs which use R to compute results for them. It implies <code>--quiet</code> and <code>--no-save</code>.</p>
</dd>
<dt><code>--interactive</code></dt>
<dd><p>(UNIX only) Assert that R really is being run interactively even if input has been redirected: use if input is from a FIFO or pipe and fed from an interactive program. (The default is to deduce that R is being run interactively if and only if <code>stdin</code> is connected to a terminal or <code>pty</code>.) Using <code>-e</code>, <code>-f</code> or <code>--file</code> asserts non-interactive use even if <code>--interactive</code> is given.</p>
<p>Note that this does not turn on command-line editing.</p>
</dd>
<dt><code>--ess</code></dt>
<dd><p>(Windows only) Set <code>Rterm</code> up for use by <code>R-inferior-mode</code> in ESS, including asserting interactive use (without the command-line editor) and no buffering of <code>stdout</code>.</p>
</dd>
<dt><code>--verbose</code></dt>
<dd><p>Print more information about progress, and in particular set R’s option <code>verbose</code> to <code>TRUE</code>. R code uses this option to control the printing of diagnostic messages.</p>
</dd>
<dt><code>--debugger=name</code></dt>
<dd>
</dd>
<dt><code>-d name</code></dt>
<dd><p>(UNIX only) Run R through debugger <var>name</var>. For most debuggers (the exceptions are <code>valgrind</code> and recent versions of <code>gdb</code>), further command line options are disregarded, and should instead be given when starting the R executable from inside the debugger.</p>
</dd>
<dt><code>--gui=type</code></dt>
<dd>
</dd>
<dt><code>-g type</code></dt>
<dd><p>(UNIX only) Use <var>type</var> as graphical user interface (note that this also includes interactive graphics). Currently, possible values for <var>type</var> are <code>X11</code> (the default) and, provided that <code>Tcl/Tk</code> support is available, <code>Tk</code>. (For back-compatibility, <code>x11</code> and <code>tk</code> are accepted.)</p>
</dd>
<dt><code>--arch=name</code></dt>
<dd><p>(UNIX only) Run the specified sub-architecture.</p>
</dd>
<dt><code>--args</code></dt>
<dd><p>This flag does nothing except cause the rest of the command line to be skipped: this can be useful to retrieve values from it with <code>commandArgs(TRUE)</code>.</p>
</dd>
</dl>
<p>Note that input and output can be redirected in the usual way (using <code>&lt;</code> and <code>&gt;</code>), but the line length limit of 4095 bytes still applies. Warning and error messages are sent to the error channel (<code>stderr</code>).</p>
<p>The command <code>R CMD</code> allows the invocation of various tools which are useful in conjunction with R, but not intended to be called “directly”. The general form is</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">R</span> CMD command args</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>where <var>command</var> is the name of the tool and <var>args</var> the arguments passed on to it.</p>
<p>Currently, the following tools are available.</p>
<dl>
<dt><code>BATCH</code></dt>
<dd><p>Run R in batch mode. Runs <code>R --restore --save</code> with possibly further options (see <code>?BATCH</code>).</p>
</dd>
<dt><code>COMPILE</code></dt>
<dd><p>(UNIX only) Compile C, C++, Fortran … files for use with R.</p>
</dd>
<dt><code>SHLIB</code></dt>
<dd><p>Build shared library for dynamic loading.</p>
</dd>
<dt><code>INSTALL</code></dt>
<dd><p>Install add-on packages.</p>
</dd>
<dt><code>REMOVE</code></dt>
<dd><p>Remove add-on packages.</p>
</dd>
<dt><code>build</code></dt>
<dd><p>Build (that is, package) add-on packages.</p>
</dd>
<dt><code>check</code></dt>
<dd><p>Check add-on packages.</p>
</dd>
<dt><code>LINK</code></dt>
<dd><p>(UNIX only) Front-end for creating executable programs.</p>
</dd>
<dt><code>Rprof</code></dt>
<dd><p>Post-process R profiling files.</p>
</dd>
<dt><code>Rdconv</code></dt>
<dd>
</dd>
<dt><code>Rd2txt</code></dt>
<dd><p>Convert Rd format to various other formats, including HTML, LaTeX, plain text, and extracting the examples. <code>Rd2txt</code> can be used as shorthand for <code>Rd2conv -t txt</code>.</p>
</dd>
<dt><code>Rd2pdf</code></dt>
<dd><p>Convert Rd format to PDF.</p>
</dd>
<dt><code>Stangle</code></dt>
<dd><p>Extract S/R code from Sweave or other vignette documentation</p>
</dd>
<dt><code>Sweave</code></dt>
<dd><p>Process Sweave or other vignette documentation</p>
</dd>
<dt><code>Rdiff</code></dt>
<dd><p>Diff R output ignoring headers etc</p>
</dd>
<dt><code>config</code></dt>
<dd><p>Obtain configuration information</p>
</dd>
<dt><code>javareconf</code></dt>
<dd><p>(Unix only) Update the Java configuration variables</p>
</dd>
<dt><code>rtags</code></dt>
<dd><p>(Unix only) Create Emacs-style tag files from C, R, and Rd files</p>
</dd>
<dt><code>open</code></dt>
<dd><p>(Windows only) Open a file via Windows’ file associations</p>
</dd>
<dt><code>texify</code></dt>
<dd><p>(Windows only) Process (La)TeX files with R’s style files</p>
</dd>
</dl>
<p>Use</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">R</span> CMD command <span class="at">--help</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>to obtain usage information for each of the tools accessible via the <code>R CMD</code> interface.</p>
<p>In addition, you can use options <code>--arch=</code>, <code>--no-environ</code>, <code>--no-init-file</code>, <code>--no-site-file</code> and <code>--vanilla</code> between <code>R</code> and <code>CMD</code>: these affect any R processes run by the tools. (Here <code>--vanilla</code> is equivalent to <code>--no-environ --no-site-file --no-init-file</code>.) However, note that <code>R CMD</code> does not of itself use any R startup files (in particular, neither user nor site <code>Renviron</code> files), and all of the R processes run by these tools (except <code>BATCH</code>) use <code>--no-restore</code>. Most use <code>--vanilla</code> and so invoke no R startup files: the current exceptions are <code>INSTALL</code>, <code>REMOVE</code>, <code>Sweave</code> and <code>SHLIB</code> (which uses <code>--no-site-file --no-init-file</code>).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">R</span> CMD cmd args</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>for any other executable <code>cmd</code> on the path or given by an absolute filepath: this is useful to have the same environment as R or the specific commands run under, for example to run <code>ldd</code> or <code>pdflatex</code>. Under Windows <var>cmd</var> can be an executable or a batch file, or if it has extension <code>.sh</code> or <code>.pl</code> the appropriate interpreter (if available) is called to run it.</p>
</section>
<section id="invoking-r-under-windows" class="level2 appendixsec" data-number="16.2">
<h2 class="appendixsec anchored" data-number="16.2" data-anchor-id="invoking-r-under-windows"><span class="header-section-number">16.2</span> Invoking R under Windows</h2>
<p>There are two ways to run R under Windows. Within a terminal window (e.g.&nbsp;<code>cmd.exe</code> or a more capable shell), the methods described in the previous section may be used, invoking by <code>R.exe</code> or more directly by <code>Rterm.exe</code>. For interactive use, there is a console-based GUI (<code>Rgui.exe</code>).</p>
<p>The startup procedure under Windows is very similar to that under UNIX, but references to the ‘home directory’ need to be clarified, as this is not always defined on Windows. If the environment variable <code>R_USER</code> is defined, that gives the home directory. Next, if the environment variable <code>HOME</code> is defined, that gives the home directory. After those two user-controllable settings, R tries to find system defined home directories. It first tries to use the Windows "personal" directory (typically <code>My Documents</code> in recent versions of Windows). If that fails, and environment variables <code>HOMEDRIVE</code> and <code>HOMEPATH</code> are defined (and they normally are) these define the home directory. Failing all those, the home directory is taken to be the starting directory.</p>
<p>You need to ensure that either the environment variables <code>TMPDIR</code>, <code>TMP</code> and <code>TEMP</code> are either unset or one of them points to a valid place to create temporary files and directories.</p>
<p>Environment variables can be supplied as <code>name=value</code> pairs on the command line.</p>
<p>If there is an argument ending <code>.RData</code> (in any case) it is interpreted as the path to the workspace to be restored: it implies <code>--restore</code> and sets the working directory to the parent of the named file. (This mechanism is used for drag-and-drop and file association with <code>RGui.exe</code>, but also works for <code>Rterm.exe</code>. If the named file does not exist it sets the working directory if the parent directory exists.)</p>
<p>The following additional command-line options are available when invoking <code>RGui.exe</code>.</p>
<dl>
<dt><code>--mdi</code></dt>
<dd>
</dd>
<dt><code>--sdi</code></dt>
<dd>
</dd>
<dt><code>--no-mdi</code></dt>
<dd><p>Control whether <code>Rgui</code> will operate as an MDI program (with multiple child windows within one main window) or an SDI application (with multiple top-level windows for the console, graphics and pager). The command-line setting overrides the setting in the user’s <code>Rconsole</code> file.</p>
</dd>
<dt><code>--debug</code></dt>
<dd><p>Enable the “Break to debugger” menu item in <code>Rgui</code>, and trigger a break to the debugger during command line processing.</p>
</dd>
</dl>
<p>Under Windows with <code>R CMD</code> you may also specify your own <code>.bat</code>, <code>.exe</code>, <code>.sh</code> or <code>.pl</code> file. It will be run under the appropriate interpreter (Perl for <code>.pl</code>) with several environment variables set appropriately, including <code>R_HOME</code>, <code>R_OSTYPE</code>, <code>PATH</code>, <code>BSTINPUTS</code> and <code>TEXINPUTS</code>. For example, if you already have <code>latex.exe</code> on your path, then</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">R</span> CMD latex.exe mydoc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>will run LaTeX on <code>mydoc.tex</code>, with the path to R’s <code>share/texmf</code> macros appended to <code>TEXINPUTS</code>. (Unfortunately, this does not help with the MiKTeX build of LaTeX, but <code>R CMD texify mydoc</code> will work in that case.)</p>
</section>
<section id="invoking-r-under-macos" class="level2 appendixsec" data-number="16.3">
<h2 class="appendixsec anchored" data-number="16.3" data-anchor-id="invoking-r-under-macos"><span class="header-section-number">16.3</span> Invoking R under macOS</h2>
<p>There are two ways to run R under macOS. Within a <code>Terminal.app</code> window by invoking <code>R</code>, the methods described in the first subsection apply. There is also console-based GUI (<code>R.app</code>) that by default is installed in the <code>Applications</code> folder on your system. It is a standard double-clickable macOS application.</p>
<p>The startup procedure under macOS is very similar to that under UNIX, but <code>R.app</code> does not make use of command-line arguments. The ‘home directory’ is the one inside the R.framework, but the startup and current working directory are set as the user’s home directory unless a different startup directory is given in the Preferences window accessible from within the GUI.</p>
</section>
<section id="scripting-with-r" class="level2 appendixsec" data-number="16.4">
<h2 class="appendixsec anchored" data-number="16.4" data-anchor-id="scripting-with-r"><span class="header-section-number">16.4</span> Scripting with R</h2>
<p>If you just want to run a file <code>foo.R</code> of R commands, the recommended way is to use <code>R CMD BATCH foo.R</code>. If you want to run this in the background or as a batch job use OS-specific facilities to do so: for example in most shells on Unix-alike OSes <code>R CMD BATCH foo.R &amp;</code> runs a background job.</p>
<p>You can pass parameters to scripts via additional arguments on the command line: for example (where the exact quoting needed will depend on the shell in use)</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">R</span> CMD BATCH <span class="st">"--args arg1 arg2"</span> foo.R <span class="kw">&amp;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>will pass arguments to a script which can be retrieved as a character vector by</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>args <span class="ot">&lt;-</span> <span class="fu">commandArgs</span>(<span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This is made simpler by the alternative front-end <code>Rscript</code>, which can be invoked by</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>Rscript foo.R arg1 arg2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>and this can also be used to write executable script files like (at least on Unix-alikes, and in some Windows shells)</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#! /path/to/Rscript</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>args <span class="ot">&lt;-</span> <span class="fu">commandArgs</span>(<span class="cn">TRUE</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">q</span>(<span class="at">status=</span><span class="sc">&lt;</span>exit status code<span class="sc">&gt;</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If this is entered into a text file <code>runfoo</code> and this is made executable (by <code>chmod 755 runfoo</code>), it can be invoked for different arguments by</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>runfoo arg1 arg2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For further options see <code>help("Rscript")</code>. This writes R output to <code>stdout</code> and <code>stderr</code>, and this can be redirected in the usual way for the shell running the command.</p>
<p>If you do not wish to hardcode the path to <code>Rscript</code> but have it in your path (which is normally the case for an installed R except on Windows, but e.g.&nbsp;macOS users may need to add <code>/usr/local/bin</code> to their path), use</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#! /usr/bin/env Rscript</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>At least in Bourne and bash shells, the <code>#!</code> mechanism does <strong>not</strong> allow extra arguments like <code>#! /usr/bin/env Rscript --vanilla</code>.</p>
<p>One thing to consider is what <code>stdin()</code> refers to. It is commonplace to write R scripts with segments like</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>chem <span class="ot">&lt;-</span> <span class="fu">scan</span>(<span class="at">n=</span><span class="dv">24</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fl">2.90</span> <span class="fl">3.10</span> <span class="fl">3.40</span> <span class="fl">3.40</span> <span class="fl">3.70</span> <span class="fl">3.70</span> <span class="fl">2.80</span> <span class="fl">2.50</span> <span class="fl">2.40</span> <span class="fl">2.40</span> <span class="fl">2.70</span> <span class="fl">2.20</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fl">5.28</span> <span class="fl">3.37</span> <span class="fl">3.03</span> <span class="fl">3.03</span> <span class="fl">28.95</span> <span class="fl">3.77</span> <span class="fl">3.40</span> <span class="fl">2.20</span> <span class="fl">3.50</span> <span class="fl">3.60</span> <span class="fl">3.70</span> <span class="fl">3.70</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>and <code>stdin()</code> refers to the script file to allow such traditional usage. If you want to refer to the process’s <code>stdin</code>, use <code>"stdin"</code> as a <code>file</code> connection, e.g.&nbsp;<code>scan("stdin", ...)</code>.</p>
<p>Another way to write executable script files (suggested by François Pinard) is to use a <em>here document</em> like</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/sh</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[environment</span> variables can be set here]</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="ex">R</span> <span class="at">--no-echo</span> [other options] <span class="op">&lt;&lt;EOF</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="st">   R program goes here...</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="op">EOF</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>but here <code>stdin()</code> refers to the program source and <code>"stdin"</code> will not be usable.</p>
<p>Short scripts can be passed to <code>Rscript</code> on the command-line <em>via</em> the <code>-e</code> flag. (Empty scripts are not accepted.)</p>
<p>Note that on a Unix-alike the input filename (such as <code>foo.R</code>) should not contain spaces nor shell metacharacters.</p>


</section>
</main> <!-- /main -->
<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    setTimeout(function() {
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.toc-action)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./A-sample-session.html">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">A sample session</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./The-command-line-editor.html">
        <span class="nav-page-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">The command-line editor</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">A re-styled version of the original R manuals at <a href="https://cran.r-project.org/manuals.html" class="uri">https://cran.r-project.org/manuals.html</a></div>   
    <div class="nav-footer-right">Built using <a href="https://quarto.org">Quarto</a></div>
  </div>
</footer>


</body></html>