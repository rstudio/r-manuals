<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>R Manuals :: Writing R Extensions - 2&nbsp; Writing R documentation files</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Tidying-and-profiling-R-code.html" rel="next">
<link href="./Creating-R-packages.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">R Manuals :: Writing R Extensions</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-manuals" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Manuals</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-manuals">    
        <li>
    <a class="dropdown-item" href="./../r-intro/index.html" rel="" target="">
 <span class="dropdown-text">An Introduction to R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../r-data/index.html" rel="" target="">
 <span class="dropdown-text">R Data Import/Export</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../r-admin/index.html" rel="" target="">
 <span class="dropdown-text">R Installation and Administration</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../r-exts/index.html" rel="" target="">
 <span class="dropdown-text">Writing R Extensions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../r-lang/index.html" rel="" target="">
 <span class="dropdown-text">R Language Definition</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../r-ints/index.html" rel="" target="">
 <span class="dropdown-text">R Internals</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Writing-R-documentation-files.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Writing R documentation files</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Writing R Extensions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Acknowledgements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Acknowledgements</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Creating-R-packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Creating R packages</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Writing-R-documentation-files.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Writing R documentation files</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Tidying-and-profiling-R-code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Tidying and profiling R code</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Debugging.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Debugging</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./System-and-foreign-language-interfaces.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">System and foreign language interfaces</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./The-R-API.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">The R API: entry points for C code</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Generic-functions-and-methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Generic functions and methods</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Linking-GUIs-and-other-front-ends-to-R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Linking GUIs and other front-ends to R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Function-and-variable-index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Function and variable index</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Concept-index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concept index</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#rd-format" id="toc-rd-format" class="nav-link active" data-scroll-target="#rd-format"><span class="header-section-number">2.1</span> Rd format</a>
  <ul class="collapse">
  <li><a href="#documenting-functions" id="toc-documenting-functions" class="nav-link" data-scroll-target="#documenting-functions"><span class="header-section-number">2.1.1</span> Documenting functions</a></li>
  <li><a href="#documenting-data-sets" id="toc-documenting-data-sets" class="nav-link" data-scroll-target="#documenting-data-sets"><span class="header-section-number">2.1.2</span> Documenting data sets</a></li>
  <li><a href="#documenting-s4-classes-and-methods" id="toc-documenting-s4-classes-and-methods" class="nav-link" data-scroll-target="#documenting-s4-classes-and-methods"><span class="header-section-number">2.1.3</span> Documenting S4 classes and methods</a></li>
  <li><a href="#documenting-packages" id="toc-documenting-packages" class="nav-link" data-scroll-target="#documenting-packages"><span class="header-section-number">2.1.4</span> Documenting packages</a></li>
  </ul></li>
  <li><a href="#sectioning" id="toc-sectioning" class="nav-link" data-scroll-target="#sectioning"><span class="header-section-number">2.2</span> Sectioning</a></li>
  <li><a href="#marking-text" id="toc-marking-text" class="nav-link" data-scroll-target="#marking-text"><span class="header-section-number">2.3</span> Marking text</a></li>
  <li><a href="#lists-and-tables" id="toc-lists-and-tables" class="nav-link" data-scroll-target="#lists-and-tables"><span class="header-section-number">2.4</span> Lists and tables</a></li>
  <li><a href="#cross-references" id="toc-cross-references" class="nav-link" data-scroll-target="#cross-references"><span class="header-section-number">2.5</span> Cross-references</a></li>
  <li><a href="#mathematics" id="toc-mathematics" class="nav-link" data-scroll-target="#mathematics"><span class="header-section-number">2.6</span> Mathematics</a></li>
  <li><a href="#figures" id="toc-figures" class="nav-link" data-scroll-target="#figures"><span class="header-section-number">2.7</span> Figures</a></li>
  <li><a href="#insertions" id="toc-insertions" class="nav-link" data-scroll-target="#insertions"><span class="header-section-number">2.8</span> Insertions</a></li>
  <li><a href="#indices" id="toc-indices" class="nav-link" data-scroll-target="#indices"><span class="header-section-number">2.9</span> Indices</a></li>
  <li><a href="#platform-specific-documentation" id="toc-platform-specific-documentation" class="nav-link" data-scroll-target="#platform-specific-documentation"><span class="header-section-number">2.10</span> Platform-specific documentation</a></li>
  <li><a href="#conditional-text" id="toc-conditional-text" class="nav-link" data-scroll-target="#conditional-text"><span class="header-section-number">2.11</span> Conditional text</a></li>
  <li><a href="#dynamic-pages" id="toc-dynamic-pages" class="nav-link" data-scroll-target="#dynamic-pages"><span class="header-section-number">2.12</span> Dynamic pages</a></li>
  <li><a href="#user-defined-macros" id="toc-user-defined-macros" class="nav-link" data-scroll-target="#user-defined-macros"><span class="header-section-number">2.13</span> User-defined macros</a></li>
  <li><a href="#encoding" id="toc-encoding" class="nav-link" data-scroll-target="#encoding"><span class="header-section-number">2.14</span> Encoding</a></li>
  <li><a href="#processing-documentation-files" id="toc-processing-documentation-files" class="nav-link" data-scroll-target="#processing-documentation-files"><span class="header-section-number">2.15</span> Processing documentation files</a></li>
  <li><a href="#editing-rd-files" id="toc-editing-rd-files" class="nav-link" data-scroll-target="#editing-rd-files"><span class="header-section-number">2.16</span> Editing Rd files</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Writing R documentation files</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="rd-format" class="level2 section page-columns page-full" data-number="2.1">
<h2 class="section anchored" data-number="2.1" data-anchor-id="rd-format"><span class="header-section-number">2.1</span> Rd format</h2>
<p>R objects are documented in files written in “R documentation” (Rd) format, a simple markup language much of which closely resembles (La)TeX, which can be processed into a variety of formats, including LaTeX, HTML and plain text. The translation is carried out by functions in the <strong>tools</strong> package called by the script <code>Rdconv</code> in <code>R_HOME/bin</code> and by the installation scripts for packages.</p>
<p>The R distribution contains more than 1400 such files which can be found in the <code>src/library/pkg/man</code> directories of the R source tree, where <code>pkg</code> stands for one of the standard packages which are included in the R distribution.</p>
<p>As an example, let us look at a simplified version of <code>src/library/base/man/load.Rd</code> which documents the R function <code>load</code>.</p>
<blockquote class="blockquote">
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<tbody>
<tr class="odd">
<td><div class="sourceCode" id="cb1"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">% File src/library/base/man/load.Rd</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\name</span>{load}</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">\alias</span>{load}</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">\title</span>{Reload Saved Datasets}</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">\description</span>{</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  Reload the datasets written to a file with the function</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\code</span>{save}.</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">\usage</span>{</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>load(file, envir = parent.frame())</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">\arguments</span>{</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\item</span>{file}{a connection or a character string giving the</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    name of the file to load.}</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\item</span>{envir}{the environment where the data should be</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    loaded.}</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">\seealso</span>{</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\code</span>{<span class="fu">\link</span>{save}}.</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">\examples</span>{</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>## save all data</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>save(list = ls(), file= "all.RData")</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>## restore the saved values to the current environment</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>load("all.RData")</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>## restore the saved values to the workspace</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>load("all.RData", .GlobalEnv)</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="fu">\keyword</span>{file}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
</tr>
</tbody>
</table>
</blockquote>
<p>An <code>Rd</code> file consists of three parts. The header gives basic information about the name of the file, the topics documented, a title, a short textual description and R usage information for the objects documented. The body gives further information (for example, on the function’s arguments and return value, as in the above example). Finally, there is an optional footer with keyword information. The header is mandatory.</p>
<div class="page-columns page-full"><p>Information is given within a series of <em>sections</em> with standard names (and user-defined sections are also allowed). Unless otherwise specified<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> these should occur only once in an <code>Rd</code> file (in any order), and the processing software will retain only the first occurrence of a standard section in the file, with a warning.</p><div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;e.g.&nbsp;<code>\alias</code>, <code>\keyword</code> and <code>\note</code> sections.</p></li></div></div>
<p>See <a href="https://developer.r-project.org/Rds.html">“Guidelines for Rd files”</a> for guidelines for writing documentation in <code>Rd</code> format which should be useful for package writers. The R generic function <code>prompt</code> is used to construct a bare-bones <code>Rd</code> file ready for manual editing. Methods are defined for documenting functions (which fill in the proper function and argument names) and data frames. There are also functions <code>promptData</code>, <code>promptPackage</code>, <code>promptClass</code>, and <code>promptMethods</code> for other types of <code>Rd</code> file.</p>
<p>The general syntax of <code>Rd</code> files is summarized below. For a detailed technical discussion of current <code>Rd</code> syntax, see <a href="https://developer.r-project.org/parseRd.pdf">“Parsing Rd files”</a>.</p>
<p><code>Rd</code> files consist of four types of text input. The most common is LaTeX-like, with the backslash used as a prefix on markup (e.g. <code>\alias</code>), and braces used to indicate arguments (e.g.&nbsp;<code>{load}</code>). The least common type of text is ‘verbatim’ text, where no markup other than the comment marker (<code>%</code>) is processed. There is also a rare variant of ‘verbatim’ text (used in <code>\eqn</code>, <code>\deqn</code>, <code>\figure</code>, and <code>\newcommand</code>) where comment markers need not be escaped. The final type is R-like, intended for R code, but allowing some embedded macros. Quoted strings within R-like text are handled specially: regular character escapes such as <code>\n</code> may be entered as-is. Only markup starting with <code>\l</code> (e.g. <code>\link</code>) or <code>\v</code> (e.g.&nbsp;<code>\var</code>) will be recognized within quoted strings. The rarely used vertical tab <code>\v</code> must be entered as <code>\\v</code>.</p>
<p>Each macro defines the input type for its argument. For example, the file initially uses LaTeX-like syntax, and this is also used in the <code>\description</code> section, but the <code>\usage</code> section uses R-like syntax, and the <code>\alias</code> macro uses ‘verbatim’ syntax. Comments run from a percent symbol <code>%</code> to the end of the line in all types of text except the rare ‘verbatim’ variant (as on the first line of the <code>load</code> example).</p>
<p>Because backslashes, braces and percent symbols have special meaning, to enter them into text sometimes requires escapes using a backslash. In general balanced braces do not need to be escaped, but percent symbols always do, except in the ‘verbatim’ variant. For the complete list of macros and rules for escapes, see <a href="https://developer.r-project.org/parseRd.pdf">“Parsing Rd files”</a>.</p>
<section id="documenting-functions" class="level3 subsection page-columns page-full" data-number="2.1.1">
<h3 class="subsection anchored" data-number="2.1.1" data-anchor-id="documenting-functions"><span class="header-section-number">2.1.1</span> Documenting functions</h3>
<p>The basic markup commands used for documenting R objects (in particular, functions) are given in this subsection.</p>
<dl class="page-columns page-full">
<dt><code>\name{name}</code> <a href="#index-_005cname" class="copiable-anchor">¶</a></dt>
<dd class="page-columns page-full">
<div class="page-columns page-full"><p><code>name</code> typically<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> is the basename of the <code>Rd</code> file containing the documentation. It is the “name” of the <code>Rd</code> object represented by the file and has to be unique in a package. To avoid problems with indexing the package manual, it may not contain <code>!</code> <code>|</code> nor <code>@</code>, and to avoid possible problems with the HTML help system it should not contain <code>/</code> nor a space. (LaTeX special characters are allowed, but may not be collated correctly in the index.) There can only be one <code>\name</code> entry in a file, and it must not contain any markup. Entries in the package manual will be in alphabetic<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> order of the <code>\name</code> entries.</p><div class="no-row-height column-margin column-container"><li id="fn2"><p><sup>2</sup>&nbsp;There can be exceptions: for example <code>Rd</code> files are not allowed to start with a dot, and have to be uniquely named on a case-insensitive file system.</p></li><li id="fn3"><p><sup>3</sup>&nbsp;in the current locale, and with special treatment for LaTeX special characters and with any <code>pkgname-package</code> topic moved to the top of the list.</p></li></div></div>
</dd>
<dt><code>\alias{topic}</code> <a href="#index-_005calias" class="copiable-anchor">¶</a></dt>
<dd>
<p>The <code>\alias</code> sections specify all “topics” the file documents. This information is collected into index data bases for lookup by the on-line (plain text and HTML) help systems. The <code>topic</code> can contain spaces, but (for historical reasons) leading and trailing spaces will be stripped. Percent and left brace need to be escaped by a backslash.</p>
<p>There may be several <code>\alias</code> entries. Quite often it is convenient to document several R objects in one file. For example, file <code>Normal.Rd</code> documents the density, distribution function, quantile function and generation of random variates for the normal distribution, and hence starts with</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\name</span>{Normal}</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\alias</span>{Normal}</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">\alias</span>{dnorm}</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">\alias</span>{pnorm}</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">\alias</span>{qnorm}</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">\alias</span>{rnorm}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Also, it is often convenient to have several different ways to refer to an R object, and an <code>\alias</code> does not need to be the name of an object.</p>
<p>Note that the <code>\name</code> is not necessarily a topic documented, and if so desired it needs to have an explicit <code>\alias</code> entry (as in this example).</p>
</dd>
<dt><code>\title{Title}</code> <a href="#index-_005ctitle" class="copiable-anchor">¶</a></dt>
<dd>
<p>Title information for the <code>Rd</code> file. This should be capitalized and not end in a period; try to limit its length to at most 65 characters for widest compatibility.</p>
<p>Markup is supported in the text, but use of characters other than English text and punctuation (e.g., <code>&lt;</code>) may limit portability.</p>
<p>There must be one (and only one) <code>\title</code> section in a help file.</p>
</dd>
<dt><code>\description{...}</code> <a href="#index-_005cdescription" class="copiable-anchor">¶</a></dt>
<dd>
<p>A short description of what the function(s) do(es) (one paragraph, a few lines only). (If a description is too long and cannot easily be shortened, the file probably tries to document too much at once.) This is mandatory except for package-overview files.</p>
</dd>
<dt><code>\usage{fun(arg1, arg2, ...)}</code> <a href="#index-_005cusage" class="copiable-anchor">¶</a></dt>
<dd>
<p>One or more lines showing the synopsis of the function(s) and variables documented in the file. These are set in typewriter font. This is an R-like command.</p>
<p>The usage information specified should match the function definition <em>exactly</em> (such that automatic checking for consistency between code and documentation is possible).</p>
<p>To indicate that a function can be used in several different ways, depending on the named arguments specified, use section <code>\details</code>. E.g., <code>abline.Rd</code> contains</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\details</span>{</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  Typical usages are</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">\preformatted</span>{abline(a, b, ...)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>......</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Use <code>\method{generic}{class}</code> to indicate the name of an S3 method for the generic function <code>generic</code> for objects inheriting from class <code>"class"</code>. In the printed versions, this will come out as <code>generic</code> (reflecting the understanding that methods should not be invoked directly but <em>via</em> method dispatch), but <code>codoc()</code> and other QC tools always have access to the full name.</p>
<p>For example, <code>print.ts.Rd</code> contains</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode c code-with-copy"><code class="sourceCode c"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>\usage<span class="op">{</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>\method<span class="op">{</span>print<span class="op">}{</span>ts<span class="op">}(</span>x<span class="op">,</span> calendar<span class="op">,</span> \dots<span class="op">)</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>which will print as</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode c code-with-copy"><code class="sourceCode c"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>Usage<span class="op">:</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>     <span class="pp">#</span><span class="er"># S3 method for class 'ts':</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>     print<span class="op">(</span>x<span class="op">,</span> calendar<span class="op">,</span> <span class="op">...)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Usage for replacement functions should be given in the style of <code>dim(x) &lt;- value</code> rather than explicitly indicating the name of the replacement function (<span class="nolinebreak"><code>"dim&lt;-"</code></span> in the above). Similarly, one can use <code>\method{generic}{class}(arglist) &lt;- value</code> to indicate the usage of an S3 replacement method for the generic replacement function <code>"generic&lt;-"</code> for objects inheriting from class <code>"class"</code>.</p>
<p>Usage for S3 methods for extracting or replacing parts of an object, S3 methods for members of the Ops group, and S3 methods for user-defined (binary) infix operators (<code>%xxx%</code>) follows the above rules, using the appropriate function names. E.g., <code>Extract.factor.Rd</code> contains</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>\usage{</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>\method{[}{factor}(x, \dots, <span class="at">drop =</span> <span class="cn">FALSE</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>\method{[[}{factor}(x, \dots)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>\method{[}{factor}(x, \dots) <span class="ot">&lt;-</span> value</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>which will print as</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>Usage<span class="sc">:</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>     <span class="do">## S3 method for class 'factor':</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>     x[..., drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>     <span class="do">## S3 method for class 'factor':</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>     x[[...]]</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>     <span class="do">## S3 replacement method for class 'factor':</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>     x[...] <span class="ot">&lt;-</span> value</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>\S3method</code> is accepted as an alternative to <code>\method</code>.</p>
</dd>
<dt><code>\arguments{...}</code> <a href="#index-_005carguments" class="copiable-anchor">¶</a></dt>
<dd>
<p>Description of the function’s arguments, using an entry of the form</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\item</span>{arg_i}{Description of arg_i.}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>for each element of the argument list. (Note that there is no whitespace between the three parts of the entry.) There may be optional text outside the <code>\item</code> entries, for example to give general information about groups of parameters.</p>
</dd>
<dt><code>\details{...}</code> <a href="#index-_005cdetails" class="copiable-anchor">¶</a></dt>
<dd>
<p>A detailed if possible precise description of the functionality provided, extending the basic information in the <code>\description</code> slot.</p>
</dd>
<dt><code>\value{...}</code> <a href="#index-_005cvalue" class="copiable-anchor">¶</a></dt>
<dd class="page-columns page-full">
<p>Description of the function’s return value.</p>
<p>If a list with multiple values is returned, you can use entries of the form</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\item</span>{comp_i}{Description of comp_i.}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="page-columns page-full"><p>for each component of the list returned. Optional text may precede<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> this list (see for example the help for <code>rle</code>). Note that <code>\value</code> is implicitly a <code>\describe</code> environment, so that environment should not be used for listing components, just individual <code>\item{}{}</code> entries.</p><div class="no-row-height column-margin column-container"><li id="fn4"><p><sup>4</sup>&nbsp;Text between or after list items is discouraged.</p></li></div></div>
</dd>
<dt><code>\references{...}</code> <a href="#index-_005creferences" class="copiable-anchor">¶</a></dt>
<dd>
<p>A section with references to the literature. Use <code>\url{}</code> or <code>\href{}{}</code> for web pointers, and <code>\doi{}</code> for DOIs (this needs R &gt;= 3.3, see <a href="#user-defined-macros">User-defined macros</a> for more info).</p>
</dd>
<dt><code>\note{...}</code> <a href="#index-_005cnote" class="copiable-anchor">¶</a></dt>
<dd>
<p>Use this for a special note you want to have pointed out. Multiple <code>\note</code> sections are allowed, but might be confusing to the end users.</p>
<p>For example, <code>pie.Rd</code> contains</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\note</span>{</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  Pie charts are a very bad way of displaying information.</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  The eye is good at judging linear measures and bad at</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  judging relative areas.</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  ......</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</dd>
<dt><code>\author{...}</code> <a href="#index-_005cauthor" class="copiable-anchor">¶</a></dt>
<dd>
<p>Information about the author(s) of the <code>Rd</code> file. Use <code>\email{}</code> without extra delimiters (such as <code>( )</code> or <code>&lt; &gt;</code>) to specify email addresses, or <code>\url{}</code> or <code>\href{}{}</code> for web pointers.</p>
</dd>
<dt><code>\seealso{...}</code> <a href="#index-_005cseealso" class="copiable-anchor">¶</a></dt>
<dd>
<p>Pointers to related R objects, using <code>\code{\link{...}}</code> to refer to them (<code>\code</code> is the correct markup for R object names, and <code>\link</code> produces hyperlinks in output formats which support this. See <a href="#marking-text">Marking text</a>, and <a href="#cross-references">Cross-references</a>).</p>
</dd>
<dt><code>\examples{...}</code></dt>
<dd>
<p>Examples of how to use the function. Code in this section is set in typewriter font without reformatting and is run by <code>example()</code> unless marked otherwise (see below).</p>
<p>Examples are not only useful for documentation purposes, but also provide test code used for diagnostic checking of R code. By default, text inside <code>\examples{}</code> will be displayed in the output of the help page and run by <code>example()</code> and by <code>R CMD check</code>. You can use <code>\dontrun{}</code> for text that should only be shown, but not run, and <code>\dontshow{}</code> for extra commands for testing that should not be shown to users, but will be run by <code>example()</code>. (Previously this was called <code>\testonly</code>, and that is still accepted.)</p>
<p>Text inside <code>\dontrun{}</code> is ‘verbatim’, but the other parts of the <code>\examples</code> section are R-like text.</p>
<p>For example,</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">10</span>)       <span class="co"># Shown and run.</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>\dontrun{<span class="fu">plot</span>(x)}    <span class="co"># Only shown.</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>\dontshow{<span class="fu">log</span>(x)}    <span class="co"># Only run.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Thus, example code not included in <code>\dontrun</code> must be executable! In addition, it should not use any system-specific features or require special facilities (such as Internet access or write permission to specific directories). Text included in <code>\dontrun</code> is indicated by comments in the processed help files: it need not be valid R code but the escapes must still be used for <code>%</code>, <code>\</code> and unpaired braces as in other ‘verbatim’ text.</p>
<p>Example code must be capable of being run by <code>example</code>, which uses <code>source</code>. This means that it should not access <code>stdin</code>, e.g.&nbsp;to <code>scan()</code> data from the example file.</p>
<p>Data needed for making the examples executable can be obtained by random number generation (for example, <code>x &lt;- rnorm(100)</code>), or by using standard data sets listed by <code>data()</code> (see <code>?data</code> for more info).</p>
<p>Finally, there is <code>\donttest</code>, used (at the beginning of a separate line) to mark code that should be run by <code>example()</code> but not by <code>R CMD check</code> (by default: the option <code>--run-donttest</code> can be used). This should be needed only occasionally but can be used for code which might fail in circumstances that are hard to test for, for example in some locales. (Use e.g.&nbsp;<code>capabilities()</code> or <code>nzchar(Sys.which("someprogram"))</code> to test for features needed in the examples wherever possible, and you can also use <code>try()</code> or <code>tryCatch()</code>. Use <code>interactive()</code> to condition examples which need someone to interact with.) Note that code included in <code>\donttest</code> must be correct R code, and any packages used should be declared in the <code>DESCRIPTION</code> file. It is good practice to include a comment in the <code>\donttest</code> section explaining why it is needed.</p>
<p>Output from code between comments</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="do">## IGNORE_RDIFF_BEGIN</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="do">## IGNORE_RDIFF_END</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>is ignored when comparing check output to reference output (a <code>-Ex.Rout.save</code> file). This markup can also be used for scripts under <code>tests</code>.</p>
</dd>
<dt><code>\keyword{key}</code></dt>
<dd>
<p>There can be zero or more <code>\keyword</code> sections per file. Each <code>\keyword</code> section should specify a single keyword, preferably one of the standard keywords as listed in file <code>KEYWORDS</code> in the R documentation directory (default <code>R_HOME/doc</code>). Use e.g.&nbsp;<code>RShowDoc("KEYWORDS")</code> to inspect the standard keywords from within R. There can be more than one <code>\keyword</code> entry if the R object being documented falls into more than one category, or none.</p>
<p>Do strongly consider using <code>\concept</code> (see <a href="#indices">Indices</a>) instead of <code>\keyword</code> if you are about to use more than very few non-standard keywords.</p>
<p>The special keyword <code>internal</code> marks a page of internal topics (typically, objects that are not part of the package’s API). If the help page for topic <code>foo</code> has keyword <code>internal</code>, then <code>help(foo)</code> gives this help page, but <code>foo</code> is excluded from several topic indices, including the alphabetical list of topics in the HTML help system.</p>
<p><code>help.search()</code> can search by keyword, including user-defined values: however the ‘Search Engine &amp; Keywords’ HTML page accessed <em>via</em> <code>help.start()</code> provides single-click access only to a pre-defined list of keywords.</p>
</dd>
</dl>
</section>
<section id="documenting-data-sets" class="level3 subsection" data-number="2.1.2">
<h3 class="subsection anchored" data-number="2.1.2" data-anchor-id="documenting-data-sets"><span class="header-section-number">2.1.2</span> Documenting data sets</h3>
<p>The structure of <code>Rd</code> files which document R data sets is slightly different. Sections such as <code>\arguments</code> and <code>\value</code> are not needed but the format and source of the data should be explained.</p>
<p>As an example, let us look at <code>src/library/datasets/man/rivers.Rd</code> which documents the standard R data set <code>rivers</code>.</p>
<blockquote class="blockquote">
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<tbody>
<tr class="odd">
<td><div class="sourceCode" id="cb13"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\name</span>{rivers}</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\docType</span>{data}</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">\alias</span>{rivers}</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">\title</span>{Lengths of Major North American Rivers}</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">\description</span>{</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  This data set gives the lengths (in miles) of 141 <span class="fu">\dQuote</span>{major}</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  rivers in North America, as compiled by the US Geological</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  Survey.</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="fu">\usage</span>{rivers}</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="fu">\format</span>{A vector containing 141 observations.}</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="fu">\source</span>{World Almanac and Book of Facts, 1975, page 406.}</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="fu">\references</span>{</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  McNeil, D. R. (1977) <span class="fu">\emph</span>{Interactive Data Analysis}.</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>  New York: Wiley.</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="fu">\keyword</span>{datasets}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
</tr>
</tbody>
</table>
</blockquote>
<p>This uses the following additional markup commands.</p>
<dl>
<dt><code>\docType{...}</code></dt>
<dd>
<p>Indicates the “type” of the documentation object. Always <code>data</code> for data sets, and <code>package</code> for <code>pkg-package.Rd</code> overview files. Documentation for S4 methods and classes uses <code>methods</code> (from <code>promptMethods()</code>) and <code>class</code> (from <code>promptClass()</code>).</p>
</dd>
<dt><code>\format{...}</code> <a href="#index-_005cformat" class="copiable-anchor">¶</a></dt>
<dd>
<p>A description of the format of the data set (as a vector, matrix, data frame, time series, …). For matrices and data frames this should give a description of each column, preferably as a list or table. See <a href="#lists-and-tables">Lists and tables</a>, for more information.</p>
</dd>
<dt><code>\source{...}</code> <a href="#index-_005csource" class="copiable-anchor">¶</a></dt>
<dd>
<p>Details of the original source (a reference or URL, see <a href="Creating-R-packages.html#specifying-urls">Specifying URLs</a>). In addition, section <code>\references</code> could give secondary sources and usages.</p>
</dd>
</dl>
<p>Note also that when documenting data set <code>bar</code>,</p>
<ul>
<li>The <code>\usage</code> entry is always <code>bar</code> or (for packages which do not use lazy-loading of data) <code>data(bar)</code>. (In particular, only document a <em>single</em> data object per <code>Rd</code> file.)</li>
<li>The <code>\keyword</code> entry should always be <code>datasets</code>.</li>
</ul>
<p>If <code>bar</code> is a data frame, documenting it as a data set can be initiated <em>via</em> <code>prompt(bar)</code>. Otherwise, the <code>promptData</code> function may be used.</p>
</section>
<section id="documenting-s4-classes-and-methods" class="level3 subsection" data-number="2.1.3">
<h3 class="subsection anchored" data-number="2.1.3" data-anchor-id="documenting-s4-classes-and-methods"><span class="header-section-number">2.1.3</span> Documenting S4 classes and methods</h3>
<p>There are special ways to use the <code>?</code> operator, namely <code>class?topic</code> and <code>methods?topic</code>, to access documentation for S4 classes and methods, respectively. This mechanism depends on conventions for the topic names used in <code>\alias</code> entries. The topic names for S4 classes and methods respectively are of the form</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>class<span class="sc">-</span>class</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>generic,signature_list<span class="sc">-</span>method</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>where <code>signature_list</code> contains the names of the classes in the signature of the method (without quotes) separated by <code>,</code> (without whitespace), with <code>ANY</code> used for arguments without an explicit specification. E.g., <code>genericFunction-class</code> is the topic name for documentation for the S4 class <code>"genericFunction"</code>, and <code>coerce,ANY,NULL-method</code> is the topic name for documentation for the S4 method for <code>coerce</code> for signature <code>c("ANY", "NULL")</code>.</p>
<p>Skeletons of documentation for S4 classes and methods can be generated by using the functions <code>promptClass()</code> and <code>promptMethods()</code> from package <strong>methods</strong>. If it is necessary or desired to provide an explicit function declaration (in a <code>\usage</code> section) for an S4 method (e.g., if it has “surprising arguments” to be mentioned explicitly), one can use the special markup</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\S</span>4method{generic}{signature_list}(argument_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>(e.g., <code>\S4method{coerce}{ANY,NULL}(from, to)</code>).</p>
<p>To make full use of the potential of the on-line documentation system, all user-visible S4 classes and methods in a package should at least have a suitable <code>\alias</code> entry in one of the package’s <code>Rd</code> files. If a package has methods for a function defined originally somewhere else, and does not change the underlying default method for the function, the package is responsible for documenting the methods it creates, but not for the function itself or the default method.</p>
<p>An S4 replacement method is documented in the same way as an S3 one: see the description of <code>\method</code> in <a href="#documenting-functions">Documenting functions</a>.</p>
<p>See <code>help("Documentation", package = "methods")</code> for more information on using and creating on-line documentation for S4 classes and methods.</p>
</section>
<section id="documenting-packages" class="level3 subsection" data-number="2.1.4">
<h3 class="subsection anchored" data-number="2.1.4" data-anchor-id="documenting-packages"><span class="header-section-number">2.1.4</span> Documenting packages</h3>
<p>Packages may have an overview help page with an <code>\alias</code> <code>pkgname-package</code>, e.g.&nbsp;<code>utils-package</code> for the <strong>utils</strong> package, when <code>package?pkgname</code> will open that help page. If a topic named <code>pkgname</code> does not exist in another <code>Rd</code> file, it is helpful to use this as an additional <code>\alias</code>.</p>
<p>Skeletons of documentation for a package can be generated using the function <code>promptPackage()</code>. If the <code>final = TRUE</code> argument is used, then the <code>Rd</code> file will be generated in final form, containing the information that would be produced by <code>library(help = pkgname)</code>. Otherwise (the default) comments will be inserted giving suggestions for content.</p>
<p>Apart from the mandatory <code>\name</code> and <code>\title</code> and the <code>pkgname-package</code> alias, the only requirement for the package overview page is that it include a <code>\docType{package}</code> statement. All other content is optional. We suggest that it should be a short overview, to give a reader unfamiliar with the package enough information to get started. More extensive documentation is better placed into a package vignette (see <a href="Creating-R-packages.html#writing-package-vignettes">Writing package vignettes</a>) and referenced from this page, or into individual man pages for the functions, datasets, or classes.</p>
</section>
</section>
<section id="sectioning" class="level2 section" data-number="2.2">
<h2 class="section anchored" data-number="2.2" data-anchor-id="sectioning"><span class="header-section-number">2.2</span> Sectioning</h2>
<p>To begin a new paragraph or leave a blank line in an example, just insert an empty line (as in (La)TeX). To break a line, use <code>\cr</code>.</p>
<p>In addition to the predefined sections (such as <code>\description{}</code>, <code>\value{}</code>, etc.), you can “define” arbitrary ones by <code>\section{section_title}{...}</code>. For example</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">\section</span>{Warning}{</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  You must not call this function unless ...</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For consistency with the pre-assigned sections, the section name (the first argument to <code>\section</code>) should be capitalized (but not all upper case) and not end in a period. Whitespace between the first and second braced expressions is not allowed. Markup (e.g.&nbsp;<code>\code</code>) within the section title may cause problems with the latex conversion (depending on the version of macro packages such as <code>hyperref</code>) and so should be avoided.</p>
<p>The <code>\subsection</code> macro takes arguments in the same format as <code>\section</code>, but is used within a section, so it may be used to nest subsections within sections or other subsections. There is no predefined limit on the nesting level, but formatting is not designed for more than 3 levels (i.e.&nbsp;subsections within subsections within sections).</p>
<p>Note that additional named sections are always inserted at a fixed position in the output (before <code>\note</code>, <code>\seealso</code> and the examples), no matter where they appear in the input (but in the same order amongst themselves as in the input).</p>
</section>
<section id="marking-text" class="level2 section page-columns page-full" data-number="2.3">
<h2 class="section anchored" data-number="2.3" data-anchor-id="marking-text"><span class="header-section-number">2.3</span> Marking text</h2>
<p>The following logical markup commands are available for emphasizing or quoting text.</p>
<dl>
<dt><code>\emph{text}</code> <a href="#index-_005cstrong" class="copiable-anchor">¶</a></dt>
<dd>
<span id="index-_005cemph"></span>
</dd>
<dt><code>\strong{text}</code></dt>
<dd>
<p>Emphasize <code>text</code> using <em>italic</em> and <strong>bold</strong> font if possible; <code>\strong</code> is regarded as stronger (more emphatic).</p>
</dd>
<dt><code>\bold{text}</code> <a href="#index-_005cbold" class="copiable-anchor">¶</a></dt>
<dd>
<p>Set <code>text</code> in <strong>bold</strong> font where possible.</p>
</dd>
<dt><code>\sQuote{text}</code> <a href="#index-_005cdquote" class="copiable-anchor">¶</a></dt>
<dd>
<span id="index-_005csQuote"></span>
</dd>
<dt><code>\dQuote{text}</code></dt>
<dd>
<p>Portably single or double quote <code>text</code> (without hard-wiring the characters used for quotation marks).</p>
</dd>
</dl>
<p>Each of the above commands takes LaTeX-like input, so other macros may be used within <code>text</code>.</p>
<p>The following logical markup commands are available for indicating specific kinds of text. Except as noted, these take ‘verbatim’ text input, and so other macros may not be used within them. Some characters will need to be escaped (see <a href="#insertions">Insertions</a>).</p>
<dl class="page-columns page-full">
<dt><code>\code{text}</code> <a href="#index-_005ccode" class="copiable-anchor">¶</a></dt>
<dd>
<p>Indicate text that is a literal example of a piece of an R program, e.g., a fragment of R code or the name of an R object. Text is entered in R-like syntax, and displayed using <code>typewriter</code> font where possible. Macros <code>\var</code> and <code>\link</code> are interpreted within <code>text</code>.</p>
</dd>
<dt><code>\preformatted{text}</code> <a href="#index-_005cpreformatted" class="copiable-anchor">¶</a></dt>
<dd>
<p>Indicate text that is a literal example of a piece of a program. Text is displayed using <code>typewriter</code> font where possible. Formatting, e.g.&nbsp;line breaks, is preserved. (Note that this includes a line break after the initial {, so typically text should start on the same line as the command.)</p>
<p>Due to limitations in LaTeX as of this writing, this macro may not be nested within other markup macros other than <code>\dQuote</code> and <code>\sQuote</code>, as errors or bad formatting may result.</p>
</dd>
<dt><code>\kbd{keyboard-characters}</code> <a href="#index-_005ckbd" class="copiable-anchor">¶</a></dt>
<dd>
<p>Indicate keyboard input, using <kbd>slanted typewriter</kbd> font if possible, so users can distinguish the characters they are supposed to type from computer output. Text is entered ‘verbatim’.</p>
</dd>
<dt><code>\samp{text}</code> <a href="#index-_005csamp" class="copiable-anchor">¶</a></dt>
<dd>
<p>Indicate text that is a literal example of a sequence of characters, entered ‘verbatim’, to be included within word-wrapped text. Displayed within single quotation marks and using <code>typewriter</code> font where possible.</p>
</dd>
<dt><code>\verb{text}</code> <a href="#index-_005cverb" class="copiable-anchor">¶</a></dt>
<dd>
<p>Indicate text that is a literal example of a sequence of characters, entered ‘verbatim’. No wrapping or reformatting will occur. Displayed using <code>typewriter</code> font where possible.</p>
</dd>
<dt><code>\pkg{package_name}</code> <a href="#index-_005cpkg" class="copiable-anchor">¶</a></dt>
<dd>
<p>Indicate the name of an R package. LaTeX-like.</p>
</dd>
<dt><code>\file{file_name}</code> <a href="#index-_005cfile" class="copiable-anchor">¶</a></dt>
<dd>
<p>Indicate the name of a file. Text is LaTeX-like, so backslash needs to be escaped. Displayed using a distinct font where possible.</p>
</dd>
<dt><code>\email{email_address}</code> <a href="#index-_005cemail" class="copiable-anchor">¶</a></dt>
<dd>
<p>Indicate an electronic mail address. LaTeX-like, will be rendered as a hyperlink in HTML and PDF conversion. Displayed using <code>typewriter</code> font where possible.</p>
</dd>
<dt><code>\url{uniform_resource_locator}</code> <a href="#index-_005curl" class="copiable-anchor">¶</a></dt>
<dd class="page-columns page-full">
<div class="page-columns page-full"><p>Indicate a uniform resource locator (URL) for the World Wide Web. The argument is handled as ‘verbatim’ text (with percent and braces escaped by backslash), and rendered as a hyperlink in HTML and PDF conversion. Linefeeds are removed, and leading and trailing whitespace<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> is removed. See <a href="Creating-R-packages.html#specifying-urls">Specifying URLs</a>.</p><div class="no-row-height column-margin column-container"><li id="fn5"><p><sup>5</sup>&nbsp;as defined by the R function <code>trimws</code>.</p></li></div></div>
<p>Displayed using <code>typewriter</code> font where possible.</p>
</dd>
<dt><code>\href{uniform_resource_locator}{text}</code> <a href="#index-_005chref" class="copiable-anchor">¶</a></dt>
<dd>
<p>Indicate a hyperlink to the World Wide Web. The first argument is handled as ‘verbatim’ text (with percent and braces escaped by backslash) and is used as the URL in the hyperlink, with the second argument of LaTeX-like text displayed to the user. Linefeeds are removed from the first argument, and leading and trailing whitespace is removed.</p>
<p>Note that RFC3986-encoded URLs (e.g.&nbsp;using <code>%28VS.85%29</code> in place of <code>(VS.85)</code>) may not work correctly in versions of R before 3.1.3 and are best avoided—use <code>URLdecode()</code> to decode them.</p>
</dd>
<dt><code>\var{metasyntactic_variable}</code> <a href="#index-_005cvar" class="copiable-anchor">¶</a></dt>
<dd class="page-columns page-full">
<div class="page-columns page-full"><p>Indicate a metasyntactic variable. In some cases this will be rendered distinctly, e.g.&nbsp;in italic, but not in all<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>. LaTeX-like.</p><div class="no-row-height column-margin column-container"><li id="fn6"><p><sup>6</sup>&nbsp;Currently it is rendered differently only in HTML conversions, and LaTeX conversion outside <code>\usage</code> and <code>\examples</code> environments.</p></li></div></div>
</dd>
<dt><code>\env{environment_variable}</code> <a href="#index-_005cenv" class="copiable-anchor">¶</a></dt>
<dd>
<p>Indicate an environment variable. ‘Verbatim’. Displayed using <code>typewriter</code> font where possible</p>
</dd>
<dt><code>\option{option}</code> <a href="#index-_005coption" class="copiable-anchor">¶</a></dt>
<dd>
<p>Indicate a command-line option. ‘Verbatim’. Displayed using <code>typewriter</code> font where possible.</p>
</dd>
<dt><code>\command{command_name}</code> <a href="#index-_005ccommand" class="copiable-anchor">¶</a></dt>
<dd>
<p>Indicate the name of a command. LaTeX-like, so <code>\var</code> is interpreted. Displayed using <code>typewriter</code> font where possible.</p>
</dd>
<dt><code>\dfn{term}</code> <a href="#index-_005cdfn" class="copiable-anchor">¶</a></dt>
<dd>
<p>Indicate the introductory or defining use of a term. LaTeX-like.</p>
</dd>
<dt><code>\cite{reference}</code> <a href="#index-_005ccite" class="copiable-anchor">¶</a></dt>
<dd>
<p>Indicate a reference without a direct cross-reference <em>via</em> <code>\link</code> (see <a href="#cross-references">Cross-references</a>), such as the name of a book. LaTeX-like.</p>
</dd>
<dt><code>\acronym{acronym}</code> <a href="#index-_005cacronym" class="copiable-anchor">¶</a></dt>
<dd>
<p>Indicate an acronym (an abbreviation written in all capital letters), such as GNU. LaTeX-like.</p>
</dd>
</dl>
</section>
<section id="lists-and-tables" class="level2 section" data-number="2.4">
<h2 class="section anchored" data-number="2.4" data-anchor-id="lists-and-tables"><span class="header-section-number">2.4</span> Lists and tables</h2>
<p>The <code>\itemize</code> and <code>\enumerate</code> commands take a single argument, within which there may be one or more <code>\item</code> commands. The text following each <code>\item</code> is formatted as one or more paragraphs, suitably indented and with the first paragraph marked with a bullet point (<code>\itemize</code>) or a number (<code>\enumerate</code>).</p>
<p>Note that unlike argument lists, <code>\item</code> in these formats is followed by a space and the text (not enclosed in braces). For example</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\enumerate</span>{</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">\item</span> A database consists of one or more records, each with one or</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    more named fields.</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">\item</span> Regular lines start with a non-whitespace character.</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">\item</span> Records are separated by one or more empty lines.</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>\itemize</code> and <code>\enumerate</code> commands may be nested.</p>
<p>The <code>\describe</code> command is similar to <code>\itemize</code> but allows initial labels to be specified. Each <code>\item</code> takes two arguments, the label and the body of the item, in exactly the same way as an argument or value <code>\item</code>. <code>\describe</code> commands are mapped to <code>&lt;DL&gt;</code> lists in HTML and <code>\description</code> lists in LaTeX.</p>
<p>Using these without any <code>\item</code>s may cause problems with some conversions and makes little sense.</p>
<p>The <code>\tabular</code> command takes two arguments. The first gives for each of the columns the required alignment (<code>l</code> for left-justification, <code>r</code> for right-justification or <code>c</code> for centring.) The second argument consists of an arbitrary number of lines separated by <code>\cr</code>, and with fields separated by <code>\tab</code>. For example:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\tabular</span>{rlll}{</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    [,1] <span class="fu">\tab</span> Ozone   <span class="fu">\tab</span> numeric <span class="fu">\tab</span> Ozone (ppb)<span class="fu">\cr</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    [,2] <span class="fu">\tab</span> Solar.R <span class="fu">\tab</span> numeric <span class="fu">\tab</span> Solar R (lang)<span class="fu">\cr</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    [,3] <span class="fu">\tab</span> Wind    <span class="fu">\tab</span> numeric <span class="fu">\tab</span> Wind (mph)<span class="fu">\cr</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    [,4] <span class="fu">\tab</span> Temp    <span class="fu">\tab</span> numeric <span class="fu">\tab</span> Temperature (degrees F)<span class="fu">\cr</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    [,5] <span class="fu">\tab</span> Month   <span class="fu">\tab</span> numeric <span class="fu">\tab</span> Month (1--12)<span class="fu">\cr</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    [,6] <span class="fu">\tab</span> Day     <span class="fu">\tab</span> numeric <span class="fu">\tab</span> Day of month (1--31)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>There must be the same number of fields on each line as there are alignments in the first argument, and they must be non-empty (but can contain only spaces). (There is no whitespace between <code>\tabular</code> and the first argument, nor between the two arguments.)</p>
</section>
<section id="cross-references" class="level2 section" data-number="2.5">
<h2 class="section anchored" data-number="2.5" data-anchor-id="cross-references"><span class="header-section-number">2.5</span> Cross-references</h2>
<p>The markup <code>\link{foo}</code> (usually in the combination <code>\code{\link{foo}}</code>) produces a hyperlink to the help for <code>foo</code>. Here <code>foo</code> is a <em>topic</em>, that is the argument of <code>\alias</code> markup in another <code>Rd</code> file (possibly in another package). Hyperlinks are supported in some of the formats to which <code>Rd</code> files are converted, for example HTML and PDF, but ignored in others, e.g.&nbsp;the text format.</p>
<p>One main usage of <code>\link</code> is in the <code>\seealso</code> section of the help page, see <a href="#rd-format">Rd format</a>.</p>
<p>Note that whereas leading and trailing spaces are stripped when extracting a topic from a <code>\alias</code>, they are not stripped when looking up the topic of a <code>\link</code>.</p>
<p>You can specify a link to a different topic than its name by <code>\link[=dest]{name}</code> which links to topic <code>dest</code> with name <code>name</code>. This can be used to refer to the documentation for S3/4 classes, for example <code>\code{"\link[=abc-class]{abc}"}</code> would be a way to refer to the documentation of an S4 class <code>"abc"</code> defined in your package, and <code>\code{"\link[=terms.object]{terms}"}</code> to the S3 <code>"terms"</code> class (in package <strong>stats</strong>). To make these easy to read in the source file, <code>\code{"\linkS4class{abc}"}</code> expands to the form given above.</p>
<p>There are two other forms with an optional argument, specified as <code>\link[pkg]{foo}</code> and <code>\link[pkg:bar]{foo}</code>, to link to topics <code>foo</code> and <code>bar</code> respectively in the package <strong><code>pkg</code></strong>. They are currently only used in HTML help (and ignored for hyperlinks in LaTeX conversions of help pages). One should be careful about topics containing special characters (such as arithmetic operators) as they may result in unresolvable links, and preferably use a safer alias in the same help page.</p>
<p>Historically (before R version 4.1.0), links of the form <code>\link[pkg]{foo}</code> and <code>\link[pkg:bar]{foo}</code> used to be interpreted as links to <em>files</em> <code>foo.html</code> and <code>bar.html</code> in package <strong><code>pkg</code></strong>, respectively. For this reason, the HTML help system looks for file <code>foo.html</code> in package <strong><code>pkg</code></strong> if it does not find topic <code>foo</code>, and then searches for the topic in other installed packages. To test that links work both with both old and new systems, the pre-4.1.0 behaviour can be restored by setting the environment variable <code>_R_HELP_LINKS_TO_TOPICS_=false</code>.</p>
<p>Packages referred to by these ‘other forms’ should be declared in the <code>DESCRIPTION</code> file, in the <code>Depends</code>, <code>Imports</code>, <code>Suggests</code> or <code>Enhances</code> fields.</p>
</section>
<section id="mathematics" class="level2 section" data-number="2.6">
<h2 class="section anchored" data-number="2.6" data-anchor-id="mathematics"><span class="header-section-number">2.6</span> Mathematics</h2>
<p>Mathematical formulae should be set beautifully for printed documentation yet we still want something useful for text and HTML online help. To this end, the two commands <code>\eqn{latex}{ascii}</code> and <code>\deqn{latex}{ascii}</code> are used. Whereas <code>\eqn</code> is used for “inline” formulae (corresponding to TeX’s <code>$...$</code>), <code>\deqn</code> gives “displayed equations” (as in LaTeX’s <code>displaymath</code> environment, or TeX’s <code>$$...$$</code>). Both arguments are treated as ‘verbatim’ text.</p>
<p>Both commands can also be used as <code>\eqn{latexascii}</code> (only <em>one</em> argument) which then is used for both <code>latex</code> and <code>ascii</code>. No whitespace is allowed between command and the first argument, nor between the first and second arguments.</p>
<p>The following example is from <code>Poisson.Rd</code>:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\deqn</span>{p(x) = <span class="fu">\frac</span>{<span class="fu">\lambda</span>^x e^{-<span class="fu">\lambda</span>}}{x!}}{<span class="co">%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>        p(x) = <span class="fu">\lambda</span>^x exp(-<span class="fu">\lambda</span>)/x!}</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  for <span class="fu">\eqn</span>{x = 0, 1, 2, <span class="fu">\ldots</span>}.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For text on-line help we get</p>
<blockquote class="blockquote">
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<tbody>
<tr class="odd">
<td><div class="sourceCode" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>    <span class="fu">p</span>(x) <span class="ot">=</span> lambda<span class="sc">^</span>x <span class="fu">exp</span>(<span class="sc">-</span>lambda)<span class="sc">/</span>x<span class="sc">!</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> x <span class="ot">=</span> <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, ....</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
</tr>
</tbody>
</table>
</blockquote>
<p>Greek letters (both cases) will be rendered in HTML if preceded by a backslash, <code>\dots</code> and <code>\ldots</code> will be rendered as ellipses and <code>\sqrt</code>, <code>\ge</code> and <code>\le</code> as mathematical symbols.</p>
<p>Note that only basic LaTeX can be used, there being no provision to specify LaTeX style files such as the AMS extensions.</p>
</section>
<section id="figures" class="level2 section" data-number="2.7">
<h2 class="section anchored" data-number="2.7" data-anchor-id="figures"><span class="header-section-number">2.7</span> Figures</h2>
<p>To include figures in help pages, use the <code>\figure</code> markup. There are three forms.</p>
<p>The two commonly used simple forms are <code>\figure{filename}</code> and <code>\figure{filename}{alternate text}</code>. This will include a copy of the figure in either HTML or LaTeX output. In text output, the alternate text will be displayed instead. (When the second argument is omitted, the filename will be used.) Both the filename and the alternate text will be parsed verbatim, and should not include special characters that are significant in HTML or LaTeX.</p>
<p>The expert form is <code>\figure{filename}{options: string}</code>. (The word <code>options:</code> must be typed exactly as shown and followed by at least one space.) In this form, the <code>string</code> is copied into the HTML <code>img</code> tag as attributes following the <code>src</code> attribute, or into the second argument of the <code>\Figure</code> macro in LaTeX, which by default is used as options to an <code>\includegraphics</code> call. As it is unlikely that any single string would suffice for both display modes, the expert form would normally be wrapped in conditionals. It is up to the author to make sure that legal HTML/LaTeX is used. For example, to include a logo in both HTML (using the simple form) and LaTeX (using the expert form), the following could be used:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\if</span>{html}{<span class="fu">\figure</span>{Rlogo.svg}{options: width=100 alt="R logo"}}</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\if</span>{latex}{<span class="fu">\figure</span>{Rlogo.pdf}{options: width=0.5in}}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The files containing the figures should be stored in the directory <code>man/figures</code>. Files with extensions <code>.jpg</code>, <code>.jpeg</code>, <code>.pdf</code>, <code>.png</code> and <code>.svg</code> from that directory will be copied to the <code>help/figures</code> directory at install time. (Figures in PDF format will not display in most HTML browsers, but might be the best choice in reference manuals.) Specify the filename relative to <code>man/figures</code> in the <code>\figure</code> directive.</p>
</section>
<section id="insertions" class="level2 section page-columns page-full" data-number="2.8">
<h2 class="section anchored" data-number="2.8" data-anchor-id="insertions"><span class="header-section-number">2.8</span> Insertions</h2>
<div class="page-columns page-full"><p>Use <code>\R</code> for the R system itself. Use <code>\dots</code> for the dots in function argument lists <code>...</code>, and <code>\ldots</code> for ellipsis dots in ordinary text.<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> These can be followed by <code>{}</code>, and should be unless followed by whitespace.</p><div class="no-row-height column-margin column-container"><li id="fn7"><p><sup>7</sup>&nbsp;There is only a fine distinction between <code>\dots</code> and <code>\ldots</code>. It is technically incorrect to use <code>\ldots</code> in code blocks and <code>tools::checkRd</code> will warn about this—on the other hand the current converters treat them the same way in code blocks, and elsewhere apart from the small distinction between the two in LaTeX.</p></li></div></div>
<p>After an unescaped <code>%</code>, you can put your own comments regarding the help text. The rest of the line (but not the newline at the end) will be completely disregarded. Therefore, you can also use it to make part of the “help” invisible.</p>
<p>You can produce a backslash (<code>\</code>) by escaping it by another backslash. (Note that <code>\cr</code> is used for generating line breaks.)</p>
<div class="page-columns page-full"><p>The “comment” character <code>%</code> and unpaired braces<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a> <em>almost always</em> need to be escaped by <code>\</code>, and <code>\\</code> can be used for backslash and needs to be when there are two or more adjacent backslashes. In R-like code quoted strings are handled slightly differently; see <a href="https://developer.r-project.org/parseRd.pdf">“Parsing Rd files”</a> for details – in particular braces should not be escaped in quoted strings.</p><div class="no-row-height column-margin column-container"><li id="fn8"><p><sup>8</sup>&nbsp;See the examples section in the file <code>Paren.Rd</code> for an example.</p></li></div></div>
<p>All of <code>% { } \</code> should be escaped in LaTeX-like text.</p>
<p>Text which might need to be represented differently in different encodings should be marked by <code>\enc</code>, e.g.&nbsp;<code>\enc{Jöreskog}{Joreskog}</code> (with no whitespace between the braces) where the first argument will be used where encodings are allowed and the second should be ASCII (and is used for e.g.&nbsp;the text conversion in locales that cannot represent the encoded form). (This is intended to be used for individual words, not whole sentences or paragraphs.)</p>
</section>
<section id="indices" class="level2 section" data-number="2.9">
<h2 class="section anchored" data-number="2.9" data-anchor-id="indices"><span class="header-section-number">2.9</span> Indices</h2>
<p>The <code>\alias</code> command (see <a href="#documenting-functions">Documenting functions</a>) is used to specify the “topics” documented, which should include <em>all</em> R objects in a package such as functions and variables, data sets, and S4 classes and methods (see <a href="#documenting-s4-classes-and-methods">Documenting S4 classes and methods</a>). The on-line help system searches the index data base consisting of all alias topics.</p>
<p>In addition, it is possible to provide “concept index entries” using <code>\concept</code>, which can be used for <code>help.search()</code> lookups. E.g., file <code>cor.test.Rd</code> in the standard package <strong>stats</strong> contains</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\concept</span>{Kendall correlation coefficient}</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\concept</span>{Pearson correlation coefficient}</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">\concept</span>{Spearman correlation coefficient}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>so that e.g.&nbsp;<kbd>??Spearman</kbd> will succeed in finding the help page for the test for association between paired samples using Spearman’s rho.</p>
<p>(Note that <code>help.search()</code> only uses “sections” of documentation objects with no additional markup.)</p>
<p>Each <code>\concept</code> entry should give a <em>single</em> index term (word or phrase), and not use any Rd markup.</p>
<p>If you want to cross reference such items from other help files <em>via</em> <code>\link</code>, you need to use <code>\alias</code> and not <code>\concept</code>.</p>
</section>
<section id="platform-specific-documentation" class="level2 section" data-number="2.10">
<h2 class="section anchored" data-number="2.10" data-anchor-id="platform-specific-documentation"><span class="header-section-number">2.10</span> Platform-specific documentation</h2>
<p>Sometimes the documentation needs to differ by platform. Currently two OS-specific options are available, <code>unix</code> and <code>windows</code>, and lines in the help source file can be enclosed in</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode c code-with-copy"><code class="sourceCode c"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#ifdef OS</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>   <span class="op">...</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#endif</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>or</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode c code-with-copy"><code class="sourceCode c"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#ifndef OS</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>   <span class="op">...</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#endif</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>for OS-specific inclusion or exclusion. Such blocks should not be nested, and should be entirely within a block (that, is between the opening and closing brace of a section or item), or at top-level contain one or more complete sections.</p>
<p>If the differences between platforms are extensive or the R objects documented are only relevant to one platform, platform-specific <code>Rd</code> files can be put in a <code>unix</code> or <code>windows</code> subdirectory.</p>
</section>
<section id="conditional-text" class="level2 section" data-number="2.11">
<h2 class="section anchored" data-number="2.11" data-anchor-id="conditional-text"><span class="header-section-number">2.11</span> Conditional text</h2>
<p>Occasionally the best content for one output format is different from the best content for another. For this situation, the <code>\if{format}{text}</code> or <code>\ifelse{format}{text}{alternate}</code> markup is used. Here <code>format</code> is a comma separated list of formats in which the <code>text</code> should be rendered. The <code>alternate</code> will be rendered if the format does not match. Both <code>text</code> and <code>alternate</code> may be any sequence of text and markup.</p>
<p>Currently the following formats are recognized: <code>example</code>, <code>html</code>, <code>latex</code> and <code>text</code>. These select output for the corresponding targets. (Note that <code>example</code> refers to extracted example code rather than the displayed example in some other format.) Also accepted are <code>TRUE</code> (matching all formats) and <code>FALSE</code> (matching no formats). These could be the output of the <code>\Sexpr</code> macro (see <a href="#dynamic-pages">Dynamic pages</a>).</p>
<p>The <code>\out{literal}</code> macro would usually be used within the <code>text</code> part of <code>\if{format}{text}</code>. It causes the renderer to output the literal text exactly, with no attempt to escape special characters. For example, use the following to output the markup necessary to display the Greek letter in LaTeX or HTML, and the text string <code>alpha</code> in other formats:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\ifelse</span>{latex}{<span class="fu">\out</span>{<span class="ss">$</span><span class="sc">\alpha</span><span class="ss">$</span>}}{<span class="fu">\ifelse</span>{html}{<span class="fu">\out</span>{&amp;alpha;}}{alpha}}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="dynamic-pages" class="level2 section" data-number="2.12">
<h2 class="section anchored" data-number="2.12" data-anchor-id="dynamic-pages"><span class="header-section-number">2.12</span> Dynamic pages</h2>
<p>Two macros supporting dynamically generated man pages are <code>\Sexpr</code> and <code>\RdOpts</code>. These are modelled after Sweave, and are intended to contain executable R expressions in the <code>Rd</code> file.</p>
<p>The main argument to <code>\Sexpr</code> must be valid R code that can be executed. It may also take options in square brackets before the main argument. Depending on the options, the code may be executed at package build time, package install time, or man page rendering time.</p>
<p>The options follow the same format as in Sweave, but different options are supported. Currently the allowed options and their defaults are:</p>
<ul>
<li><p><code>eval=TRUE</code> Whether the R code should be evaluated.</p></li>
<li><p><code>echo=FALSE</code> Whether the R code should be echoed. If <code>TRUE</code>, a display will be given in a preformatted block. For example, <code>\Sexpr[echo=TRUE]{ x &lt;- 1 }</code> will be displayed as <code>r     &gt; x &lt;- 1</code></p></li>
<li><p><code>keep.source=TRUE</code> Whether to keep the author’s formatting when displaying the code, or throw it away and use a deparsed version.</p></li>
<li><p><code>results=text</code> How should the results be displayed? The possibilities are:</p>
<ul>
<li>- <code>results=text</code> Apply <code>as.character()</code> to the result of the code, and insert it as a text element.</li>
<li>- <code>results=verbatim</code> Print the results of the code just as if it was executed at the console, and include the printed results verbatim. (Invisible results will not print.)</li>
<li>- <code>results=rd</code> The result is assumed to be a character vector containing markup to be passed to <code>parse_Rd()</code>, with the result inserted in place. This could be used to insert computed aliases, for instance. <code>parse_Rd()</code> is called first with <code>fragment = FALSE</code> to allow a single Rd section macro to be inserted. If that fails, it is called again with <code>fragment = TRUE</code>, the older behavior.</li>
<li>- <code>results=hide</code> Insert no output.</li>
</ul></li>
<li><p><code>strip.white=true</code> Remove leading and trailing blank lines in verbatim output if <code>strip.white=true</code> (or <code>TRUE</code>). With <code>strip.white=all</code>, remove all blank lines.</p></li>
<li><p><code>stage=install</code> Control when this macro is run. Possible values are</p>
<ul>
<li>- <code>stage=build</code> The macro is run when building a source tarball.</li>
<li>- <code>stage=install</code> The macro is run when installing from source.</li>
<li>- <code>stage=render</code> The macro is run when displaying the help page.</li>
</ul>
<p>Conditionals such as <code>#ifdef</code> (see <a href="#platform-specific-sections">Platform-specific documentation</a>) are applied after the <code>build</code> macros but before the <code>install</code> macros. In some situations (e.g.&nbsp;installing directly from a source directory without a tarball, or building a binary package) the above description is not literally accurate, but authors can rely on the sequence being <code>build</code>, <code>#ifdef</code>, <code>install</code>, <code>render</code>, with all stages executed.</p>
<p>Code is only run once in each stage, so a <code>\Sexpr[results=rd]</code> macro can output an <code>\Sexpr</code> macro designed for a later stage, but not for the current one or any earlier stage.</p></li>
<li><p><code>width, height, fig</code> These options are currently allowed but ignored.</p></li>
</ul>
<p>The <code>\RdOpts</code> macro is used to set new defaults for options to apply to following uses of <code>\Sexpr</code>.</p>
<p>For more details, see the online document <a href="https://developer.r-project.org/parseRd.pdf">“Parsing Rd files”</a>.</p>
</section>
<section id="user-defined-macros" class="level2 section" data-number="2.13">
<h2 class="section anchored" data-number="2.13" data-anchor-id="user-defined-macros"><span class="header-section-number">2.13</span> User-defined macros</h2>
<p>The <code>\newcommand</code> and <code>\renewcommand</code> macros allow new macros to be defined within an Rd file. These are similar but not identical to the same-named LaTeX macros.</p>
<p>They each take two arguments which are parsed verbatim. The first is the name of the new macro including the initial backslash, and the second is the macro definition. As in LaTeX, <code>\newcommand</code> requires that the new macro not have been previously defined, whereas <code>\renewcommand</code> allows existing macros (including all built-in ones) to be replaced. (This test is disabled by default, but may be enabled by setting the environment variable <code>_R_WARN_DUPLICATE_RD_MACROS_</code> to a true value.)</p>
<p>Also as in LaTeX, the new macro may be defined to take arguments, and numeric placeholders such as <code>#1</code> are used in the macro definition. However, unlike LaTeX, the number of arguments is determined automatically from the highest placeholder number seen in the macro definition. For example, a macro definition containing <code>#1</code> and <code>#3</code> (but no other placeholders) will define a three argument macro (whose second argument will be ignored). As in LaTeX, at most 9 arguments may be defined. If the <code>#</code> character is followed by a non-digit it will have no special significance. All arguments to user-defined macros will be parsed as verbatim text, and simple text-substitution will be used to replace the place-holders, after which the replacement text will be parsed.</p>
<p>A number of macros are defined in the file <code>share/Rd/macros/system.Rd</code> of the R source or home directory, and these will normally be available in all <code>.Rd</code> files. For example, that file contains the definition</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>\newcommand{\PR}{\Sexpr[results=rd]{tools:::Rd_expr_PR(#1)}}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>which defines <code>\PR</code> to be a single argument macro; then code (typically used in the <code>NEWS.Rd</code> file) like</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\PR</span>{1234}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>will expand to</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>\Sexpr[results=rd]{tools:::Rd_expr_PR(1234)}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>when parsed.</p>
<p>Some macros that might be of general use are:</p>
<dl>
<dt><code>\CRANpkg{pkg}</code> <a href="#index-_005ccranpkg_007bpkg_007d" class="copiable-anchor">¶</a></dt>
<dd>
<p>A package on CRAN</p>
</dd>
<dt><code>\sspace</code> <a href="#index-_005csspace" class="copiable-anchor">¶</a></dt>
<dd>
<p>A single space (used after a period that does not end a sentence).</p>
</dd>
<dt><code>\doi{numbers}</code> <a href="#index-_005cdoi_007bnumbers_007d" class="copiable-anchor">¶</a></dt>
<dd>
<p>A digital object identifier (DOI).</p>
</dd>
</dl>
<p>See the <code>system.Rd</code> file in <code>share/Rd/macros</code> for more details and macro definitions, including macros <code>\packageTitle</code>, <code>\packageDescription</code>, <code>\packageAuthor</code>, <code>\packageMaintainer</code>, <code>\packageDESCRIPTION</code> and <code>\packageIndices</code>.</p>
<p>Packages may also define their own common macros; these would be stored in an <code>.Rd</code> file in <code>man/macros</code> in the package source and will be installed into <code>help/macros</code> when the package is installed. A package may also use the macros from a different package by listing the other package in the <code>RdMacros</code> field in the <code>DESCRIPTION</code> file.</p>
</section>
<section id="encoding" class="level2 section page-columns page-full" data-number="2.14">
<h2 class="section anchored" data-number="2.14" data-anchor-id="encoding"><span class="header-section-number">2.14</span> Encoding</h2>
<p>Rd files are text files and so it is impossible to deduce the encoding they are written in unless ASCII: files with 8-bit characters could be UTF-8, Latin-1, Latin-9, KOI8-R, EUC-JP, <em>etc</em>. So an <code>\encoding{}</code> section must be used to specify the encoding if it is not ASCII. (The <code>\encoding{}</code> section must be on a line by itself, and in particular one containing no non-ASCII characters. The encoding declared in the <code>DESCRIPTION</code> file will be used if none is declared in the file.) The <code>Rd</code> files are converted to UTF-8 before parsing and so the preferred encoding for the files themselves is now UTF-8.</p>
<p>Wherever possible, avoid non-ASCII chars in <code>Rd</code> files, and even symbols such as <code>&lt;</code>, <code>&gt;</code>, <code>$</code>, <code>^</code>, <code>&amp;</code>, <code>|</code>, <code>@</code>, <code>~</code>, and <code>*</code> outside ‘verbatim’ environments (since they may disappear in fonts designed to render text). (Function <code>showNonASCIIfile</code> in package <strong>tools</strong> can help in finding non-ASCII bytes in the files.)</p>
<div class="page-columns page-full"><p>For convenience, encoding names <code>latin1</code> and <code>latin2</code> are always recognized: these and <code>UTF-8</code> are likely to work fairly widely. However, this does not mean that all characters in UTF-8 will be recognized, and the coverage of non-Latin characters<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a> is fairly low. Using LaTeX <code>inputenx</code> (see <code>?Rd2pdf</code> in R) will give greater coverage of UTF-8.</p><div class="no-row-height column-margin column-container"><li id="fn9"><p><sup>9</sup>&nbsp;R 2.9.0 added support for UTF-8 Cyrillic characters in LaTeX, but on some OSes this will need Cyrillic support added to LaTeX, so environment variable <code>_R_CYRILLIC_TEX_</code> may need to be set to a non-empty value to enable this.</p></li></div></div>
<p>The <code>\enc</code> command (see <a href="#insertions">Insertions</a>) can be used to provide transliterations which will be used in conversions that do not support the declared encoding.</p>
<p>The LaTeX conversion converts the file to UTF-8 from the declared encoding, and includes a</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\inputencoding</span>{utf8}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>command, and this needs to be matched by a suitable invocation of the <code>\usepackage{inputenc}</code> command. The R utility <code>R CMD Rd2pdf</code> looks at the converted code and includes the encodings used: it might for example use</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="bu">\usepackage</span>[utf8]{<span class="ex">inputenc</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>(Use of <code>utf8</code> as an encoding requires LaTeX dated 2003/12/01 or later. Also, the use of Cyrillic characters in <code>UTF-8</code> appears to also need <code>\usepackage[T2A]{fontenc}</code>, and <code>R CMD Rd2pdf</code> includes this conditionally on the file <code>t2aenc.def</code> being present and environment variable <code>_R_CYRILLIC_TEX_</code> being set.)</p>
<p>Note that this mechanism works best with Latin letters: the coverage of UTF-8 in LaTeX is quite low.</p>
</section>
<section id="processing-documentation-files" class="level2 section" data-number="2.15">
<h2 class="section anchored" data-number="2.15" data-anchor-id="processing-documentation-files"><span class="header-section-number">2.15</span> Processing documentation files</h2>
<p>There are several commands to process Rd files from the system command line.</p>
<p>Using <code>R CMD Rdconv</code> one can convert R documentation format to other formats, or extract the executable examples for run-time testing. The currently supported conversions are to plain text, HTML and LaTeX as well as extraction of the examples.</p>
<p><code>R CMD Rd2pdf</code> generates PDF output from documentation in <code>Rd</code> files, which can be specified either explicitly or by the path to a directory with the sources of a package. In the latter case, a reference manual for all documented objects in the package is created, including the information in the <code>DESCRIPTION</code> files.</p>
<p><code>R CMD Sweave</code> and <code>R CMD Stangle</code> process vignette-like documentation files (e.g.&nbsp;Sweave vignettes with extension <code>.Snw</code> or <code>.Rnw</code>, or other non-Sweave vignettes). <code>R CMD Stangle</code> is used to extract the R code fragments.</p>
<p>The exact usage and a detailed list of available options for all of these commands can be obtained by running <code>R CMD command --help</code>, e.g., <kbd>R CMD Rdconv --help</kbd>. All available commands can be listed using <kbd>R --help</kbd> (or <kbd>Rcmd --help</kbd> under Windows).</p>
<p>All of these work under Windows. You may need to have installed the the tools to build packages from source as described in the “R Installation and Administration” manual, although typically all that is needed is a LaTeX installation.</p>
</section>
<section id="editing-rd-files" class="level2 section" data-number="2.16">
<h2 class="section anchored" data-number="2.16" data-anchor-id="editing-rd-files"><span class="header-section-number">2.16</span> Editing Rd files</h2>
<p>It can be very helpful to prepare <code>.Rd</code> files using a editor which knows about their syntax and will highlight commands, indent to show the structure and detect mis-matched braces, and so on.</p>
<p>The system most commonly used for this is some version of <code>Emacs</code> (including <code>XEmacs</code>) with the ESS package (<a href="https://ESS.R-project.org/" class="uri">https://ESS.R-project.org/</a>: it is often is installed with <code>Emacs</code> but may need to be loaded, or even installed, separately).</p>
<p>Another is the Eclipse IDE with the Stat-ET plugin (<a href="https://projects.eclipse.org/projects/science.statet" class="uri">https://projects.eclipse.org/projects/science.statet</a>), and (on Windows only) Tinn-R (<a href="https://sourceforge.net/projects/tinn-r/" class="uri">https://sourceforge.net/projects/tinn-r/</a>).</p>
<p>People have also used LaTeX mode in a editor, as <code>.Rd</code> files are rather similar to LaTeX files.</p>
<p>Some R front-ends provide editing support for <code>.Rd</code> files, for example RStudio (<a href="https://posit.co/" class="uri">https://posit.co/</a>).</p>
<p>Footnotes</p>


</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Creating-R-packages.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Creating R packages</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Tidying-and-profiling-R-code.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Tidying and profiling R code</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">A re-styled version of the original R manuals at <a href="https://cran.r-project.org/manuals.html" class="uri">https://cran.r-project.org/manuals.html</a></div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">Built using <a href="https://quarto.org">Quarto</a></div>
  </div>
</footer>



</body></html>