<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2&nbsp; Writing R documentation files – R Manuals :: Writing R Extensions ¶</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Tidying-and-profiling-R-code.html" rel="next">
<link href="./Creating-R-packages.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-550cd6ffca0d0790fc8e00be81a4e47f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">R Manuals :: Writing R Extensions ¶</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-manuals" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Manuals</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-manuals">    
        <li>
    <a class="dropdown-item" href="./../r-intro/index.html">
 <span class="dropdown-text">An Introduction to R ¶</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../r-data/index.html">
 <span class="dropdown-text">R Data Import/Export ¶</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../r-admin/index.html">
 <span class="dropdown-text">R Installation and Administration ¶</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../r-exts/index.html">
 <span class="dropdown-text">Writing R Extensions ¶</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../r-lang/index.html">
 <span class="dropdown-text">R Language Definition ¶</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../r-ints/index.html">
 <span class="dropdown-text">R Internals ¶</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Writing-R-documentation-files.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Writing R documentation files</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Top (Writing R Extensions)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Acknowledgements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Acknowledgements</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Creating-R-packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Creating R packages</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Writing-R-documentation-files.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Writing R documentation files</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Tidying-and-profiling-R-code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Tidying and profiling R code</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Debugging.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Debugging</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./System-and-foreign-language-interfaces.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">System and foreign language interfaces</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./The-R-API.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">The R API: entry points for C code</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Generic-functions-and-methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Generic functions and methods</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Linking-GUIs-and-other-front-ends-to-R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Linking GUIs and other front-ends to R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Function-and-variable-index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Function and variable index</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./API-index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">API index</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Fortran-API-index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fortran API index</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Experimental-API-index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Experimental API index</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Embedding-API-index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Embedding API index</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Concept-index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concept index</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#rd-format" id="toc-rd-format" class="nav-link active" data-scroll-target="#rd-format"><span class="header-section-number">2.1</span> Rd format</a>
  <ul class="collapse">
  <li><a href="#documenting-functions" id="toc-documenting-functions" class="nav-link" data-scroll-target="#documenting-functions"><span class="header-section-number">2.1.1</span> Documenting functions</a></li>
  <li><a href="#documenting-data-sets" id="toc-documenting-data-sets" class="nav-link" data-scroll-target="#documenting-data-sets"><span class="header-section-number">2.1.2</span> Documenting data sets</a></li>
  <li><a href="#documenting-s4-classes-and-methods" id="toc-documenting-s4-classes-and-methods" class="nav-link" data-scroll-target="#documenting-s4-classes-and-methods"><span class="header-section-number">2.1.3</span> Documenting S4 classes and methods</a></li>
  <li><a href="#documenting-packages" id="toc-documenting-packages" class="nav-link" data-scroll-target="#documenting-packages"><span class="header-section-number">2.1.4</span> Documenting packages</a></li>
  </ul></li>
  <li><a href="#sectioning" id="toc-sectioning" class="nav-link" data-scroll-target="#sectioning"><span class="header-section-number">2.2</span> Sectioning</a></li>
  <li><a href="#marking-text" id="toc-marking-text" class="nav-link" data-scroll-target="#marking-text"><span class="header-section-number">2.3</span> Marking text</a></li>
  <li><a href="#lists-and-tables" id="toc-lists-and-tables" class="nav-link" data-scroll-target="#lists-and-tables"><span class="header-section-number">2.4</span> Lists and tables</a></li>
  <li><a href="#cross-references" id="toc-cross-references" class="nav-link" data-scroll-target="#cross-references"><span class="header-section-number">2.5</span> Cross-references</a></li>
  <li><a href="#mathematics" id="toc-mathematics" class="nav-link" data-scroll-target="#mathematics"><span class="header-section-number">2.6</span> Mathematics</a></li>
  <li><a href="#figures" id="toc-figures" class="nav-link" data-scroll-target="#figures"><span class="header-section-number">2.7</span> Figures</a></li>
  <li><a href="#insertions" id="toc-insertions" class="nav-link" data-scroll-target="#insertions"><span class="header-section-number">2.8</span> Insertions</a></li>
  <li><a href="#indices" id="toc-indices" class="nav-link" data-scroll-target="#indices"><span class="header-section-number">2.9</span> Indices</a></li>
  <li><a href="#platform-specific-documentation" id="toc-platform-specific-documentation" class="nav-link" data-scroll-target="#platform-specific-documentation"><span class="header-section-number">2.10</span> Platform-specific documentation</a></li>
  <li><a href="#conditional-text" id="toc-conditional-text" class="nav-link" data-scroll-target="#conditional-text"><span class="header-section-number">2.11</span> Conditional text</a></li>
  <li><a href="#dynamic-pages" id="toc-dynamic-pages" class="nav-link" data-scroll-target="#dynamic-pages"><span class="header-section-number">2.12</span> Dynamic pages</a></li>
  <li><a href="#user-defined-macros" id="toc-user-defined-macros" class="nav-link" data-scroll-target="#user-defined-macros"><span class="header-section-number">2.13</span> User-defined macros</a></li>
  <li><a href="#encoding" id="toc-encoding" class="nav-link" data-scroll-target="#encoding"><span class="header-section-number">2.14</span> Encoding</a></li>
  <li><a href="#processing-documentation-files" id="toc-processing-documentation-files" class="nav-link" data-scroll-target="#processing-documentation-files"><span class="header-section-number">2.15</span> Processing documentation files</a></li>
  <li><a href="#editing-rd-files" id="toc-editing-rd-files" class="nav-link" data-scroll-target="#editing-rd-files"><span class="header-section-number">2.16</span> Editing Rd files</a>
  <ul class="collapse">
  <li><a href="#footnotes" id="toc-footnotes" class="nav-link" data-scroll-target="#footnotes"><span class="header-section-number">2.16.1</span> Footnotes</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Writing R documentation files</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Next: <a href="Tidying-and-profiling-R-code.html#tidying-and-profiling-r-code" accesskey="n" rel="next">Tidying and profiling R code</a>, Previous: <a href="Creating-R-packages.html#creating-r-packages" accesskey="p" rel="prev">Creating R packages</a>, Up: <a href="index.html" accesskey="u" rel="up">Writing R Extensions</a> &nbsp; [<a href="index.html#sec_contents" rel="contents" title="Table of contents">Contents</a>][<a href="Function-and-variable-index.html" rel="index" title="Index">Index</a>]</p>
<section id="rd-format" class="level2 section" data-number="2.1">
<h2 class="section anchored" data-number="2.1" data-anchor-id="rd-format"><span class="header-section-number">2.1</span> Rd format</h2>
<p>R objects are documented in files written in “R documentation” (Rd) format, a simple markup language much of which closely resembles (La)TeX, which can be processed into a variety of formats, including LaTeX, HTML and plain text. The translation is carried out by functions in the <strong>tools</strong> package called by the script <code class="command">Rdconv</code> in <var class="var">R_HOME</var><samp class="file">/bin</samp> and by the installation scripts for packages.</p>
<p>The R distribution contains more than 1400 such files which can be found in the <samp class="file">src/library/</samp><var class="var">pkg</var><samp class="file">/man</samp> directories of the R source tree, where <var class="var">pkg</var> stands for one of the standard packages which are included in the R distribution.</p>
<p>As an example, let us look at a simplified version of <samp class="file">src/library/base/man/load.Rd</samp> which documents the R function <code class="code">load</code>.</p>
<blockquote class="blockquote">
<table class="caption-top table">
<colgroup>
<col style="width: 100%">
</colgroup>
<tbody>
<tr class="odd">
<td><div class="sourceCode" id="cb1"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">% File src/library/base/man/load.Rd</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\name</span>{load}</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">\alias</span>{load}</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">\title</span>{Reload Saved Datasets}</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">\description</span>{</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  Reload datasets written with the function <span class="fu">\code</span>{save}.</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">\usage</span>{</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>load(file, envir = parent.frame(), verbose = FALSE)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">\arguments</span>{</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\item</span>{file}{a (readable binary-mode) <span class="fu">\link</span>{connection}</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    or a character string giving the name of the file to load</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    (when <span class="fu">\link</span>{tilde expansion} is done).}</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\item</span>{envir}{the environment where the data should be loaded.}</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\item</span>{verbose}{should item names be printed during loading?}</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">\value</span>{</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  A character vector of the names of objects created, invisibly.</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">\seealso</span>{</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\code</span>{<span class="fu">\link</span>{save}}.</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="fu">\examples</span>{</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>## save all data</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>save(list = ls(all.names = TRUE), file = "all.RData")</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>## restore the saved values to the current environment</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>load("all.RData")</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="fu">\keyword</span>{file}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
</tr>
</tbody>
</table>
</blockquote>
<p>An <samp class="file">Rd</samp> file consists of three parts. The header gives basic information about the name of the file, the topics documented, a title, a short textual description and R usage information for the objects documented. The body gives further information (for example, on the function’s arguments and return value, as in the above example). Finally, there is an optional footer with keyword information. The header is mandatory.</p>
<p>Information is given within a series of <em>sections</em> with standard names (and user-defined sections are also allowed). Unless otherwise specified<a href="#FOOT118" id="DOCF118" class="footnote"><sup>118</sup></a> these should occur only once in an <samp class="file">Rd</samp> file (in any order), and the processing software will retain only the first occurrence of a standard section in the file, with a warning.</p>
<p>See <a href="https://developer.r-project.org/Rds.html" class="uref">“Guidelines for Rd files”</a> for guidelines for writing documentation in <samp class="file">Rd</samp> format which should be useful for package writers. <span id="index-prompt" class="index-entry-id"></span> The R generic function <code class="code">prompt</code> is used to construct a bare-bones <samp class="file">Rd</samp> file ready for manual editing. Methods are defined for documenting functions (which fill in the proper function and argument names) and data frames. There are also functions <code class="code">promptData</code>, <code class="code">promptPackage</code>, <code class="code">promptClass</code>, and <code class="code">promptMethods</code> for other types of <samp class="file">Rd</samp> files.</p>
<p>The general syntax of <samp class="file">Rd</samp> files is summarized below. For a detailed technical discussion of current <samp class="file">Rd</samp> syntax, see <a href="https://developer.r-project.org/parseRd.pdf" class="uref">“Parsing Rd files”</a>.</p>
<p><samp class="file">Rd</samp> files consist of four types of text input. The most common is LaTeX-like, with the backslash used as a prefix on markup (e.g.&nbsp;<code class="code">\alias</code>), and braces used to indicate arguments (e.g. <code class="code">{load}</code>). The least common type of text is ‘verbatim’ text, where no markup other than the comment marker (<code class="code">%</code>) is processed. There is also a rare variant of ‘verbatim’ text (used in <code class="code">\eqn</code>, <code class="code">\deqn</code>, <code class="code">\figure</code>, and <code class="code">\newcommand</code>) where comment markers need not be escaped. The final type is R-like, intended for R code, but allowing some embedded macros. Quoted strings within R-like text are handled specially: regular character escapes such as <code class="code">\n</code> may be entered as-is. Only markup starting with <code class="code">\l</code> (e.g.&nbsp;<code class="code">\link</code>) or <code class="code">\v</code> (e.g.&nbsp;<code class="code">\var</code>) will be recognized within quoted strings. The rarely used vertical tab <code class="code">\v</code> must be entered as <code class="code">\\v</code>.</p>
<p>Each macro defines the input type for its argument. For example, the file initially uses LaTeX-like syntax, and this is also used in the <code class="code">\description</code> section, but the <code class="code">\usage</code> section uses R-like syntax, and the <code class="code">\alias</code> macro uses ‘verbatim’ syntax. Comments run from a percent symbol <code class="code">%</code> to the end of the line in all types of text except the rare ‘verbatim’ variant (as on the first line of the <code class="code">load</code> example).</p>
<p>Because backslashes, braces and percent symbols have special meaning, to enter them into text sometimes requires escapes using a backslash. In general balanced braces do not need to be escaped, but percent symbols always do, except in the ‘verbatim’ variant. For the complete list of macros and rules for escapes, see <a href="https://developer.r-project.org/parseRd.pdf" class="uref">“Parsing Rd files”</a>.</p>
<section id="documenting-functions" class="level3 subsection" data-number="2.1.1">
<h3 class="subsection anchored" data-number="2.1.1" data-anchor-id="documenting-functions"><span class="header-section-number">2.1.1</span> Documenting functions</h3>
<p>The basic markup commands used for documenting R objects (in particular, functions) are given in this subsection.</p>
<p>: <var class="var">name</var> typically<a href="#FOOT119" id="DOCF119" class="footnote"><sup>119</sup></a> is the basename of the <samp class="file">Rd</samp> file containing the documentation. It is the “name” of the <samp class="file">Rd</samp> object represented by the file and has to be unique in a package. To avoid problems with indexing the package manual, it may not contain <samp class="samp">!</samp>’ <samp class="samp">|</samp>’ nor <samp class="samp">@</samp>’. (LaTeX special characters are allowed, but may not be collated correctly in the index.) There can only be one <code class="code">\name</code> entry in a file, and it must not contain any markup and should only contain printable ASCII characters. Entries in the package manual will be in alphabetic<a href="#FOOT120" id="DOCF120" class="footnote"><sup>120</sup></a> order of the <code class="code">\name</code> entries.</p>
<p>: The <code class="code">\alias</code> sections specify all “topics” the file documents. This information is collected into index data bases for lookup by the on-line (plain text and HTML) help systems. The <var class="var">topic</var> can contain spaces, but (for historical reasons) leading and trailing spaces will be stripped. Percent and left brace need to be escaped by a backslash.</p>
<pre><code>There may be several `\alias`{.code} entries. Quite often it is
convenient to document several R objects in one file. For example,
file `Normal.Rd`{.sample .file} documents the density, distribution
function, quantile function and generation of random variates for
the normal distribution, and hence starts with

``` latex
\name{Normal}
\alias{Normal}
\alias{dnorm}
\alias{pnorm}
\alias{qnorm}
\alias{rnorm}
```

Also, it is often convenient to have several different ways to refer
to an R object, and an `\alias`{.code} does not need to be the name
of an object.

Note that the `\name`{.code} is not necessarily a topic documented,
and if so desired it needs to have an explicit `\alias`{.code} entry
(as in this example).</code></pre>
<p>: Title information for the <samp class="file">Rd</samp> file. This should be capitalized and not end in a period; try to limit its length to at most 65 characters for widest compatibility.</p>
<pre><code>Markup is supported in the text, but use of characters other than
English text and punctuation (e.g., `&lt;`{.sample .samp}') may limit
portability.

There must be one (and only one) `\title`{.code} section in a help
file.</code></pre>
<p>: A short description of what the function(s) do(es) (one paragraph, a few lines only). (If a description is too long and cannot easily be shortened, the file probably tries to document too much at once.) This is mandatory except for package-overview files.</p>
<p>: One or more lines showing the synopsis of the function(s) and variables documented in the file. These are set in typewriter font. This is an R-like command.</p>
<pre><code>The usage information specified should match the function definition
*exactly* (such that automatic checking for consistency between code
and documentation is possible).

To indicate that a function can be used in several different ways,
depending on the named arguments specified, use section
`\details`{.code}. E.g., `abline.Rd`{.sample .file} contains

``` latex
\details{
  Typical usages are
\preformatted{
abline(a, b, ...)
......
}
```

[]{#index-_005cmethod .index-entry-id}

Use `\method{`{.code}`generic`{.variable
.var}`}{`{.code}`class`{.variable .var}`}`{.code} to indicate the
name of an S3 method for the generic function `generic`{.variable
.var} for objects inheriting from class `"`{.code}`class`{.variable
.var}`"`{.code}. In the printed versions, this will come out as
`generic`{.variable .var} (reflecting the understanding that methods
should not be invoked directly but *via* method dispatch), but
`codoc()`{.code} and other QC tools always have access to the full
name.

For example, `print.ts.Rd`{.sample .file} contains


``` c
\usage{
\method{print}{ts}(x, calendar, \dots)
}
```

which will print as


``` c
Usage:

     ## S3 method for class 'ts':
     print(x, calendar, ...)
```

Usage for replacement functions should be given in the style of
`dim(x) &lt;- value`{.code} rather than explicitly indicating the name
of the replacement function (`"dim&lt;-"`{.code} in the above).
Similarly, one can use `\method{`{.code}`generic`{.variable
.var}`}{`{.code}`class`{.variable
.var}`}(`{.code}`arglist`{.variable .var}`) &lt;- value`{.code} to
indicate the usage of an S3 replacement method for the generic
replacement function `"`{.code}`generic`{.variable .var}`&lt;-"`{.code}
for objects inheriting from class `"`{.code}`class`{.variable
.var}`"`{.code}.

Usage for S3 methods for extracting or replacing parts of an object,
S3 methods for members of the Ops group, and S3 methods for
user-defined (binary) infix operators (`%`{.sample
.samp}`xxx`{.variable .var}`%`{.sample .samp}') follows the above
rules, using the appropriate function names. E.g.,
`Extract.factor.Rd`{.sample .file} contains

``` r
\usage{
\method{[}{factor}(x, \dots, drop = FALSE)
\method{[[}{factor}(x, \dots)
\method{[}{factor}(x, \dots) &lt;- value
}
```

which will print as

``` r
Usage:

     ## S3 method for class 'factor':
     x[..., drop = FALSE]
     ## S3 method for class 'factor':
     x[[...]]
     ## S3 replacement method for class 'factor':
     x[...] &lt;- value
```

[]{#index-_005cS3method .index-entry-id}

`\S3method`{.code} is accepted as an alternative to
`\method`{.code}.</code></pre>
<p>: Description of the function’s arguments, using an entry of the form</p>
<pre><code>``` latex
\item{arg_i}{Description of arg_i.}
```

for each element of the argument list. (Note that there is no
whitespace between the three parts of the entry.) Arguments can also
be described jointly by separating their names with commas (and
optional whitespace) in the `\item`{.code} label. There may be
optional text outside the `\item`{.code} entries, for example to
give general information about groups of parameters.</code></pre>
<p>: A detailed if possible precise description of the functionality provided, extending the basic information in the <code class="code">\description</code> slot.</p>
<p>: Description of the function’s return value.</p>
<pre><code>If a list with multiple values is returned, you can use entries of
the form

``` latex
\item{comp_i}{Description of comp_i.}
```

for each component of the list returned. There may be optional text
outside the `\item`{.code} entries (see for example the joint help
for `rle`{.code} and `inverse.rle`{.code}, or the sets of items in
`l10n_info`{.code}). Note that `\value`{.code} is implicitly a
`\describe`{.code} environment, so that environment should not be
used for listing components, just individual `\item{}{}`{.code}
entries.[^121^](#FOOT121){#DOCF121 .footnote}</code></pre>
<p>: A section with references to the literature. Use <code class="code">\url{}</code> or <code class="code">\href{}{}</code> for web pointers, and <code class="code">\doi{}</code> for DOIs (this needs R &gt;= 3.3, see <a href="#user-defined-macros" class="ref">User-defined macros</a> for more info).</p>
<p>: Use this for a special note you want to have pointed out. Multiple <code class="code">\note</code> sections are allowed, but might be confusing to the end users.</p>
<pre><code>For example, `pie.Rd`{.sample .file} contains

``` latex
\note{
  Pie charts are a very bad way of displaying information.
  The eye is good at judging linear measures and bad at
  judging relative areas.
  ......
}
```</code></pre>
<p>: Information about the author(s) of the <samp class="file">Rd</samp> file. Use <code class="code">\email{}</code> without extra delimiters (such as <samp class="samp">( )</samp>’ or <samp class="samp">&lt; &gt;</samp>’) to specify email addresses, or <code class="code">\url{}</code> or <code class="code">\href{}{}</code> for web pointers.</p>
<p>: Pointers to related R objects, using <code class="code">\code{\link{...}}</code> to refer to them (<code class="code">\code</code> is the correct markup for R object names, and <code class="code">\link</code> produces hyperlinks in output formats which support this. See <a href="#marking-text" class="xref">Marking text</a>, and <a href="#cross-references" class="ref">Cross-references</a>).</p>
<p>: Examples of how to use the function. Code in this section is set in typewriter font without reformatting and is run by <code class="code">example()</code> unless marked otherwise (see below).</p>
<pre><code>Examples are not only useful for documentation purposes, but also
provide test code used for diagnostic checking of R code. By
default, text inside `\examples{}`{.code} will be displayed in the
output of the help page and run by `example()`{.code} and by
`R CMD check`{.code}. You can use `\dontrun{}`{.code}
[]{#index-_005cdontrun .index-entry-id} for text that should only be
shown, but not run, and `\dontshow{}`{.code} []{#index-_005cdontshow
.index-entry-id} for extra commands for testing that should not be
shown to users, but will be run by `example()`{.code}. (Previously
this was called `\testonly`{.code}, and that is still accepted.)

Text inside `\dontrun{}`{.code} is 'verbatim', but the other parts
of the `\examples`{.code} section are R-like text.

For example,

``` r
x &lt;- runif(10)       # Shown and run.
\dontrun{plot(x)}    # Only shown.
\dontshow{log(x)}    # Only run.
```

Thus, example code not included in `\dontrun`{.code} must be
executable! In addition, it should not use any system-specific
features or require special facilities (such as Internet access or
write permission to specific directories). Text included in
`\dontrun`{.code} is indicated by comments in the processed help
files: it need not be valid R code but the escapes must still be
used for `%`{.code}, `\`{.code} and unpaired braces as in other
'verbatim' text.

Example code must be capable of being run by `example`{.code}, which
uses `source`{.code}. This means that it should not access
`stdin`{.sample .file}, e.g. to `scan()`{.code} data from the
example file.

Data needed for making the examples executable can be obtained by
random number generation (for example, `x &lt;- rnorm(100)`{.code}), or
by using standard data sets listed by `data()`{.code} (see
`?data`{.code} for more info).

[]{#index-_005cdonttest .index-entry-id}

Finally, there is `\donttest`{.code}, used (at the beginning of a
separate line) to mark code that should be run by `example()`{.code}
but not by `R CMD check`{.code} (by default: the option
`--run-donttest`{.sample .option} can be used). This should be
needed only occasionally but can be used for code which might fail
in circumstances that are hard to test for, for example in some
locales. (Use e.g. `capabilities()`{.code} or
`nzchar(Sys.which("someprogram"))`{.code} to test for features
needed in the examples wherever possible, and you can also use
`try()`{.code} or `tryCatch()`{.code}. Use `interactive()`{.code} to
condition examples which need someone to interact with.) Note that
code included in `\donttest`{.code} must be correct R code, and any
packages used should be declared in the `DESCRIPTION`{.sample .file}
file. It is good practice to include a comment in the
`\donttest`{.code} section explaining why it is needed.

[]{#index-_005cdontdiff .index-entry-id}

Output from code marked with `\dontdiff`{.code} (requires R \&gt;=
4.4.0) or between comment lines


``` R
## IGNORE_RDIFF_BEGIN
## IGNORE_RDIFF_END
```

is ignored when comparing check output to reference output (a
`pkg`{.variable .var}`-Ex.Rout.save`{.sample .file} file). The
comment-based markup can also be used for scripts under
`tests`{.sample .file}.</code></pre>
<p>: There can be zero or more <code class="code">\keyword</code> sections per file. Each <code class="code">\keyword</code> section should specify a single keyword, preferably one of the standard keywords as listed in file <samp class="file">KEYWORDS</samp> in the R documentation directory (default <var class="var">R_HOME</var><samp class="file">/doc</samp>). Use e.g. <code class="code">RShowDoc("KEYWORDS")</code> to inspect the standard keywords from within R. There can be more than one <code class="code">\keyword</code> entry if the R object being documented falls into more than one category, or none.</p>
<pre><code>Do strongly consider using `\concept`{.code} (see
[Indices](#indices){.pxref}) instead of `\keyword`{.code} if you are
about to use more than very few non-standard keywords.

The special keyword `internal`{.sample .samp}' marks a page of
internal topics (typically, objects that are not part of the
package's API). If the help page for topic `foo`{.code} has keyword
`internal`{.sample .samp}', then `help(foo)`{.code} gives this help
page, but `foo`{.code} is excluded from several topic indices,
including the alphabetical list of topics in the HTML help system.

`help.search()`{.code} can search by keyword, including user-defined
values: however the 'Search Engine &amp; Keywords' HTML page accessed
*via* `help.start()`{.code} provides single-click access only to a
pre-defined list of keywords.</code></pre>
</section>
<section id="documenting-data-sets" class="level3 subsection" data-number="2.1.2">
<h3 class="subsection anchored" data-number="2.1.2" data-anchor-id="documenting-data-sets"><span class="header-section-number">2.1.2</span> Documenting data sets</h3>
<p>The structure of <samp class="file">Rd</samp> files which document R data sets is slightly different. Sections such as <code class="code">\arguments</code> and <code class="code">\value</code> are not needed but the format and source of the data should be explained.</p>
<p>As an example, let us look at <samp class="file">src/library/datasets/man/rivers.Rd</samp> which documents the standard R data set <code class="code">rivers</code>.</p>
<blockquote class="blockquote">
<table class="caption-top table">
<colgroup>
<col style="width: 100%">
</colgroup>
<tbody>
<tr class="odd">
<td><div class="sourceCode" id="cb10"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\name</span>{rivers}</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\docType</span>{data}</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">\alias</span>{rivers}</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">\title</span>{Lengths of Major North American Rivers}</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">\description</span>{</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  This data set gives the lengths (in miles) of 141 <span class="fu">\dQuote</span>{major}</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  rivers in North America, as compiled by the US Geological</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  Survey.</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="fu">\usage</span>{rivers}</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="fu">\format</span>{A vector containing 141 observations.}</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="fu">\source</span>{World Almanac and Book of Facts, 1975, page 406.}</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="fu">\references</span>{</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  McNeil, D. R. (1977) <span class="fu">\emph</span>{Interactive Data Analysis}.</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  New York: Wiley.</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="fu">\keyword</span>{datasets}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
</tr>
</tbody>
</table>
</blockquote>
<p>This uses the following additional markup commands.</p>
<dl>
<dt><code class="code">\docType{...}</code></dt>
<dd>
<p>Indicates the “type” of the documentation object. Always <samp class="samp">data</samp>’ for data sets, and <samp class="samp">package</samp>’ for <var class="var">pkg</var><samp class="file">-package.Rd</samp> overview files. Documentation for S4 methods and classes uses <samp class="samp">methods</samp>’ (from <code class="code">promptMethods()</code>) and <samp class="samp">class</samp>’ (from <code class="code">promptClass()</code>).</p>
</dd>
</dl>
<p>: A description of the format of the data set (as a vector, matrix, data frame, time series, …). For matrices and data frames this should give a description of each column, preferably as a list or table. See <a href="#lists-and-tables" class="xref">Lists and tables</a>, for more information.</p>
<p>: Details of the original source (a reference or URL, see <a href="Creating-R-packages.html#specifying-urls" class="pxref">Specifying URLs</a>). In addition, section <code class="code">\references</code> could give secondary sources and usages.</p>
<p>Note also that when documenting data set <var class="var">bar</var>,</p>
<ul>
<li>The <code class="code">\usage</code> entry is always <var class="var">bar</var> or (for packages which do not use lazy-loading of data) <code class="code">data(</code><var class="var">bar</var><code class="code">)</code>. (In particular, only document a <em>single</em> data object per <samp class="file">Rd</samp> file.)</li>
<li>The <code class="code">\keyword</code> entry should always be <samp class="samp">datasets</samp>’.</li>
</ul>
<p>If <var class="var">bar</var> is a data frame, documenting it as a data set can be initiated <em>via</em> <code class="code">prompt(</code><var class="var">bar</var><code class="code">)</code>. Otherwise, the <code class="code">promptData</code> function may be used.</p>
</section>
<section id="documenting-s4-classes-and-methods" class="level3 subsection" data-number="2.1.3">
<h3 class="subsection anchored" data-number="2.1.3" data-anchor-id="documenting-s4-classes-and-methods"><span class="header-section-number">2.1.3</span> Documenting S4 classes and methods</h3>
<p>There are special ways to use the <samp class="samp">?</samp>’ operator, namely <samp class="samp">class?</samp><var class="var">topic</var>’ and <samp class="samp">methods?</samp><var class="var">topic</var>’, to access documentation for S4 classes and methods, respectively. This mechanism depends on conventions for the topic names used in <code class="code">\alias</code> entries. The topic names for S4 classes and methods respectively are of the form</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>class<span class="sc">-</span>class</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>generic,signature_list<span class="sc">-</span>method</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>where <var class="var">signature_list</var> contains the names of the classes in the signature of the method (without quotes) separated by <samp class="samp">,</samp>’ (without whitespace), with <samp class="samp">ANY</samp>’ used for arguments without an explicit specification. E.g., <samp class="samp">genericFunction-class</samp>’ is the topic name for documentation for the S4 class <code class="code">"genericFunction"</code>, and <samp class="samp">coerce,ANY,NULL-method</samp>’ is the topic name for documentation for the S4 method for <code class="code">coerce</code> for signature <code class="code">c("ANY", "NULL")</code>.</p>
<p>Skeletons of documentation for S4 classes and methods can be generated by using the functions <code class="code">promptClass()</code> and <code class="code">promptMethods()</code> from package <strong>methods</strong>. If it is necessary or desired to provide an explicit function declaration (in a <code class="code">\usage</code> section) for an S4 method (e.g., if it has “surprising arguments” to be mentioned explicitly), one can use the special markup</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\S</span>4method{generic}{signature_list}(argument_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>(e.g., <samp class="samp">\S4method{coerce}{ANY,NULL}(from, to)</samp>’).</p>
<p>To make full use of the potential of the on-line documentation system, all user-visible S4 classes and methods in a package should at least have a suitable <code class="code">\alias</code> entry in one of the package’s <samp class="file">Rd</samp> files. If a package has methods for a function defined originally somewhere else, and does not change the underlying default method for the function, the package is responsible for documenting the methods it creates, but not for the function itself or the default method.</p>
<p>An S4 replacement method is documented in the same way as an S3 one: see the description of <code class="code">\method</code> in <a href="#documenting-functions" class="ref">Documenting functions</a>.</p>
<p>See <code class="code">help("Documentation", package = "methods")</code> for more information on using and creating on-line documentation for S4 classes and methods.</p>
</section>
<section id="documenting-packages" class="level3 subsection" data-number="2.1.4">
<h3 class="subsection anchored" data-number="2.1.4" data-anchor-id="documenting-packages"><span class="header-section-number">2.1.4</span> Documenting packages</h3>
<p>Packages may have an overview help page with an <code class="code">\alias</code> <var class="var">pkgname</var><code class="code">-package</code>, e.g. <samp class="samp">utils-package</samp>’ for the <strong>utils</strong> package, when <code class="code">package?</code><var class="var">pkgname</var> will open that help page. If a topic named <var class="var">pkgname</var> does not exist in another <samp class="file">Rd</samp> file, it is helpful to use this as an additional <code class="code">\alias</code>.</p>
<p>Skeletons of documentation for a package can be generated using the function <code class="code">promptPackage()</code>. If the <code class="code">final = TRUE</code> argument is used, then the <samp class="file">Rd</samp> file will be generated in final form, containing only basic information from the <samp class="file">DESCRIPTION</samp> file. Otherwise (the default) comments will be inserted giving suggestions for content.</p>
<p>Apart from the mandatory <code class="code">\name</code> and <code class="code">\title</code> and the <var class="var">pkgname</var><code class="code">-package</code> alias, the only requirement for the package overview page is that it include a <code class="code">\docType{package}</code> statement. All other content is optional. We suggest that it should be a short overview, to give a reader unfamiliar with the package enough information to get started. More extensive documentation is better placed into a package vignette (see <a href="Creating-R-packages.html#writing-package-vignettes" class="pxref">Writing package vignettes</a>) and referenced from this page, or into individual man pages for the functions, datasets, or classes.</p>
</section>
</section>
<section id="sectioning" class="level2 section" data-number="2.2">
<h2 class="section anchored" data-number="2.2" data-anchor-id="sectioning"><span class="header-section-number">2.2</span> Sectioning</h2>
<p>To begin a new paragraph or leave a blank line in an example, just insert an empty line (as in (La)TeX). To break a line, use <code class="code">\cr</code>.</p>
<p>In addition to the predefined sections (such as <code class="code">\description{}</code>, <code class="code">\value{}</code>, etc.), you can “define” arbitrary ones by <code class="code">\section{</code><var class="var">section_title</var><code class="code">}{...}</code>. <span id="index-_005csection" class="index-entry-id"></span> For example</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">\section</span>{Warning}{</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  You must not call this function unless ...</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For consistency with the pre-assigned sections, the section name (the first argument to <code class="code">\section</code>) should be capitalized (but not all upper case) and not end in a period. Whitespace between the first and second braced expressions is not allowed. Markup (e.g.&nbsp;<code class="code">\code</code>) within the section title may cause problems with the latex conversion (depending on the version of macro packages such as <samp class="samp">hyperref</samp>’) and so should be avoided.</p>
<p>The <code class="code">\subsection</code> macro takes arguments in the same format as <code class="code">\section</code>, but is used within a section, so it may be used to nest subsections within sections or other subsections. There is no predefined limit on the nesting level, but formatting is not designed for more than 3 levels (i.e.&nbsp;subsections within subsections within sections).</p>
<p>Note that additional named sections are always inserted at a fixed position in the output (before <code class="code">\note</code>, <code class="code">\seealso</code> and the examples), no matter where they appear in the input (but in the same order amongst themselves as in the input).</p>
</section>
<section id="marking-text" class="level2 section" data-number="2.3">
<h2 class="section anchored" data-number="2.3" data-anchor-id="marking-text"><span class="header-section-number">2.3</span> Marking text</h2>
<p>The following logical markup commands are available for emphasizing or quoting text.</p>
<p>: <span id="index-_005cemph" class="index-entry-id"></span></p>
<dl>
<dt><code class="code">\strong{</code><var class="var">text</var><code class="code">}</code></dt>
<dd>
<p>Emphasize <var class="var">text</var> using <em>italic</em> and <strong>bold</strong> font if possible; <code class="code">\strong</code> is regarded as stronger (more emphatic).</p>
</dd>
</dl>
<p>: Set <var class="var">text</var> in <strong>bold</strong> font where possible.</p>
<p>: <span id="index-_005csQuote" class="index-entry-id"></span></p>
<dl>
<dt><code class="code">\dQuote{</code><var class="var">text</var><code class="code">}</code></dt>
<dd>
<p>Portably single or double quote <var class="var">text</var> (without hard-wiring the characters used for quotation marks).</p>
</dd>
</dl>
<p>Each of the above commands takes LaTeX-like input, so other macros may be used within <var class="var">text</var>.</p>
<p>The following logical markup commands are available for indicating specific kinds of text. Except as noted, these take ‘verbatim’ text input, and so other macros may not be used within them. Some characters will need to be escaped (see <a href="#insertions" class="pxref">Insertions</a>).</p>
<p>: Indicate text that is a literal example of a piece of an R program, e.g., a fragment of R code or the name of an R object. Text is entered in R-like syntax, and displayed using <code class="code">typewriter</code> font where possible. Macros <code class="code">\var</code> and <code class="code">\link</code> are interpreted within <var class="var">text</var>.</p>
<p>: Indicate text that is a literal example of a piece of a program. Text is displayed using <code class="code">typewriter</code> font where possible. Formatting, e.g.&nbsp;line breaks, is preserved. Displayed in a separate paragraph.</p>
<pre><code>Due to limitations in LaTeX as of this writing, this macro may not
be nested within other markup macros other than `\dQuote`{.code} and
`\sQuote`{.code}, as errors or bad formatting may result.</code></pre>
<p>: Indicate keyboard input, using <kbd><kbd>slanted typewriter</kbd></kbd> font if possible, so users can distinguish the characters they are supposed to type from computer output. Text is entered ‘verbatim’.</p>
<p>: Indicate text that is a literal example of a sequence of characters, entered ‘verbatim’, to be included within word-wrapped text. Displayed within single quotation marks and using <code class="code">typewriter</code> font where possible.</p>
<p>: Indicate text that is a literal example of a sequence of characters, entered ‘verbatim’. No wrapping or reformatting will occur. Displayed using <code class="code">typewriter</code> font where possible.</p>
<p>: Indicate the name of an R package. LaTeX-like.</p>
<p>: Indicate the name of a file. Text is LaTeX-like, so backslash needs to be escaped. Displayed using a distinct font where possible.</p>
<p>: Indicate an electronic mail address. LaTeX-like, will be rendered as a hyperlink in HTML and PDF conversion. Displayed using <code class="code">typewriter</code> font where possible.</p>
<p>: Indicate a uniform resource locator (URL) for the World Wide Web. The argument is handled as ‘verbatim’ text (with percent and braces escaped by backslash), and rendered as a hyperlink in HTML and PDF conversion. Line feeds are removed, and leading and trailing whitespace<a href="#FOOT122" id="DOCF122" class="footnote"><sup>122</sup></a> is removed. See <a href="Creating-R-packages.html#specifying-urls" class="xref">Specifying URLs</a>.</p>
<pre><code>Displayed using `typewriter`{.code} font where possible.</code></pre>
<p>: Indicate a hyperlink to the World Wide Web. The first argument is handled as ‘verbatim’ text (with percent and braces escaped by backslash) and is used as the URL in the hyperlink, with the second argument of LaTeX-like text displayed to the user. Line feeds are removed from the first argument, and leading and trailing whitespace is removed.</p>
<pre><code>Note that RFC3986-encoded URLs (e.g. using `%28VS.85%29`{.sample
.samp}' in place of `(VS.85)`{.sample .samp}') may not work
correctly in versions of R before 3.1.3 and are best avoided---use
`URLdecode()`{.code} to decode them.</code></pre>
<p>: Indicate a metasyntactic variable. In most cases this will be rendered distinctly, e.g.&nbsp;in italic (PDF/HTML) or wrapped in <samp class="samp">&lt;...&gt;</samp>’ (text), but not in all<a href="#FOOT123" id="DOCF123" class="footnote"><sup>123</sup></a>. LaTeX-like.</p>
<p>: Indicate an environment variable. ‘Verbatim’. Displayed using <code class="code">typewriter</code> font where possible</p>
<p>: Indicate a command-line option. ‘Verbatim’. Displayed using <code class="code">typewriter</code> font where possible.</p>
<p>: Indicate the name of a command. LaTeX-like, so <code class="code">\var</code> is interpreted. Displayed using <code class="code">typewriter</code> font where possible.</p>
<p>: Indicate the introductory or defining use of a term. LaTeX-like.</p>
<p>: Indicate a reference without a direct cross-reference <em>via</em> <code class="code">\link</code> (see <a href="#cross-references" class="pxref">Cross-references</a>), such as the name of a book. LaTeX-like.</p>
<p>: Indicate an acronym (an abbreviation written in all capital letters), such as GNU. LaTeX-like.</p>
<p>: Indicates an abbreviation. LaTeX-like.</p>
</section>
<section id="lists-and-tables" class="level2 section" data-number="2.4">
<h2 class="section anchored" data-number="2.4" data-anchor-id="lists-and-tables"><span class="header-section-number">2.4</span> Lists and tables</h2>
<p><span id="index-_005citemize" class="index-entry-id"></span> <span id="index-_005cenumerate" class="index-entry-id"></span></p>
<p>The <code class="code">\itemize</code> and <code class="code">\enumerate</code> commands take a single argument, within which there may be one or more <code class="code">\item</code> commands. The text following each <code class="code">\item</code> is formatted as one or more paragraphs, suitably indented and with the first paragraph marked with a bullet point (<code class="code">\itemize</code>) or a number (<code class="code">\enumerate</code>).</p>
<p>Note that unlike argument lists, <code class="code">\item</code> in these formats is followed by a space and the text (not enclosed in braces). For example</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\enumerate</span>{</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">\item</span> A database consists of one or more records, each with one or</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    more named fields.</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">\item</span> Regular lines start with a non-whitespace character.</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">\item</span> Records are separated by one or more empty lines.</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code class="code">\itemize</code> and <code class="code">\enumerate</code> commands may be nested.</p>
<p>The <code class="code">\describe</code> command is similar to <code class="code">\itemize</code> but allows initial labels to be specified. Each <code class="code">\item</code> takes two arguments, the label and the body of the item, in exactly the same way as an argument or value <code class="code">\item</code>. <code class="code">\describe</code> commands are mapped to <code class="code">&lt;DL&gt;</code> lists in HTML and <code class="code">\description</code> lists in LaTeX.</p>
<p>Using these without any <code class="code">\item</code>s may cause problems with some conversions and makes little sense.</p>
<p>The <code class="code">\tabular</code> command takes two arguments. The first gives for each of the columns the required alignment (<samp class="samp">l</samp>’ for left-justification, <samp class="samp">r</samp>’ for right-justification or <samp class="samp">c</samp>’ for centring.) The second argument consists of an arbitrary number of lines separated by <code class="code">\cr</code>, and with fields separated by <code class="code">\tab</code>. For example:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\tabular</span>{rlll}{</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    [,1] <span class="fu">\tab</span> Ozone   <span class="fu">\tab</span> numeric <span class="fu">\tab</span> Ozone (ppb)<span class="fu">\cr</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    [,2] <span class="fu">\tab</span> Solar.R <span class="fu">\tab</span> numeric <span class="fu">\tab</span> Solar R (lang)<span class="fu">\cr</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    [,3] <span class="fu">\tab</span> Wind    <span class="fu">\tab</span> numeric <span class="fu">\tab</span> Wind (mph)<span class="fu">\cr</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    [,4] <span class="fu">\tab</span> Temp    <span class="fu">\tab</span> numeric <span class="fu">\tab</span> Temperature (degrees F)<span class="fu">\cr</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    [,5] <span class="fu">\tab</span> Month   <span class="fu">\tab</span> numeric <span class="fu">\tab</span> Month (1--12)<span class="fu">\cr</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    [,6] <span class="fu">\tab</span> Day     <span class="fu">\tab</span> numeric <span class="fu">\tab</span> Day of month (1--31)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>There must be the same number of fields on each line as there are alignments in the first argument, and they must be non-empty (but can contain only spaces). (There is no whitespace between <code class="code">\tabular</code> and the first argument, nor between the two arguments.)</p>
</section>
<section id="cross-references" class="level2 section" data-number="2.5">
<h2 class="section anchored" data-number="2.5" data-anchor-id="cross-references"><span class="header-section-number">2.5</span> Cross-references</h2>
<p>The markup <code class="code">\link{</code><var class="var">foo</var><code class="code">}</code> (usually in the combination <code class="code">\code{\link{</code><var class="var">foo</var><code class="code">}}</code>) produces a hyperlink to the help for <var class="var">foo</var>. Here <var class="var">foo</var> is a <em>topic</em>, that is the argument of <code class="code">\alias</code> markup in another <samp class="file">Rd</samp> file (possibly in another package). Hyperlinks are supported in some of the formats to which <samp class="file">Rd</samp> files are converted, for example HTML and PDF, but ignored in others, e.g.&nbsp;the text format.</p>
<p>One main usage of <code class="code">\link</code> is in the <code class="code">\seealso</code> section of the help page, see <a href="#rd-format" class="pxref">Rd format</a>.</p>
<p>Note that whereas leading and trailing spaces are stripped when extracting a topic from a <code class="code">\alias</code>, they are not stripped when looking up the topic of a <code class="code">\link</code>.</p>
<p>You can specify a link to a different topic than its name by <code class="code">\link[=</code><var class="var">dest</var><code class="code">]{</code><var class="var">name</var><code class="code">}</code> which links to topic <var class="var">dest</var> with name <var class="var">name</var>. This can be used to refer to the documentation for S3/4 classes, for example <code class="code">\code{"\link[=abc-class]{abc}"}</code> would be a way to refer to the documentation of an S4 class <code class="code">"abc"</code> defined in your package, and <code class="code">\code{"\link[=terms.object]{terms}"}</code> to the S3 <code class="code">"terms"</code> class (in package <strong>stats</strong>). To make these easy to read in the source file, <code class="code">\code{"\linkS4class{abc}"}</code> expands to the form given above and also works with an <code class="code">[</code><var class="var">pkg</var><code class="code">]</code> ‘anchor’:</p>
<p>There are two other forms with an optional ‘anchor’ argument, specified as <code class="code">\link[</code><var class="var">pkg</var><code class="code">]{</code><var class="var">foo</var><code class="code">}</code> and <code class="code">\link[</code><var class="var">pkg:bar</var><code class="code">]{</code><var class="var">foo</var><code class="code">}</code>, to link to topics <var class="var">foo</var> and <var class="var">bar</var> respectively in the package <strong><var class="var">pkg</var></strong>. They are currently only used in HTML help (and ignored for hyperlinks in LaTeX conversions of help pages). One should be careful about topics containing special characters (such as arithmetic operators) as they may result in unresolvable links, and preferably use a safer alias in the same help page.</p>
<p>Historically (before R version 4.1.0), links of the form <code class="code">\link[</code><var class="var">pkg</var><code class="code">]{</code><var class="var">foo</var><code class="code">}</code> and <code class="code">\link[</code><var class="var">pkg:bar</var><code class="code">]{</code><var class="var">foo</var><code class="code">}</code> used to be interpreted as links to <em>files</em> <var class="var">foo</var><samp class="file">.html</samp> and <var class="var">bar</var><samp class="file">.html</samp> in package <strong><var class="var">pkg</var></strong>, respectively. For this reason, the HTML help system looks for file <var class="var">foo</var><samp class="file">.html</samp> in package <strong><var class="var">pkg</var></strong> if it does not find topic <var class="var">foo</var>, and then searches for the topic in other installed packages. To test that links work both with both old and new systems, the pre-4.1.0 behaviour can be restored by setting the environment variable <code class="env">_R_HELP_LINKS_TO_TOPICS_=false</code>.</p>
<p>Packages referred to by these ‘other forms’ should be declared in the <samp class="file">DESCRIPTION</samp> file, in the <samp class="samp">Depends</samp>‘, <samp class="samp">Imports</samp>’, <samp class="samp">Suggests</samp>’ or <samp class="samp">Enhances</samp>’ fields.</p>
</section>
<section id="mathematics" class="level2 section" data-number="2.6">
<h2 class="section anchored" data-number="2.6" data-anchor-id="mathematics"><span class="header-section-number">2.6</span> Mathematics</h2>
<p>Mathematical formulae should be set beautifully for printed documentation and in KaTeX/MathJax-enhanced HTML help (as from R 4.2.0) yet we still want something useful for plain-text (and legacy HTML) help. To this end, the two commands <code class="code">\eqn{</code><var class="var">latex</var><code class="code">}{</code><var class="var">ascii</var><code class="code">}</code> and <code class="code">\deqn{</code><var class="var">latex</var><code class="code">}{</code><var class="var">ascii</var><code class="code">}</code> are used. Whereas <code class="code">\eqn</code> is used for “inline” formulae (corresponding to TeX’s <code class="code">$...$</code>), <code class="code">\deqn</code> gives “displayed equations” (as in LaTeX’s <code class="code">displaymath</code> environment, or TeX’s <code class="code">$$...$$</code>). Both arguments are treated as ‘verbatim’ text.</p>
<p>Both commands can also be used as <code class="code">\eqn{</code><var class="var">latexascii</var><code class="code">}</code> (only <em>one</em> argument) which then is used for both <var class="var">latex</var> and <var class="var">ascii</var>. No whitespace is allowed between command and the first argument, nor between the first and second arguments.</p>
<p>The following example is from <samp class="file">Poisson.Rd</samp>:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\deqn</span>{p(x) = <span class="fu">\frac</span>{<span class="fu">\lambda</span>^x e^{-<span class="fu">\lambda</span>}}{x!}}{<span class="co">%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>        p(x) = <span class="fu">\lambda</span>^x exp(-<span class="fu">\lambda</span>)/x!}</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  for <span class="fu">\eqn</span>{x = 0, 1, 2, <span class="fu">\ldots</span>}.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In plain-text help we get</p>
<blockquote class="blockquote">
<table class="caption-top table">
<colgroup>
<col style="width: 100%">
</colgroup>
<tbody>
<tr class="odd">
<td><div class="sourceCode" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>    <span class="fu">p</span>(x) <span class="ot">=</span> lambda<span class="sc">^</span>x <span class="fu">exp</span>(<span class="sc">-</span>lambda)<span class="sc">/</span>x<span class="sc">!</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> x <span class="ot">=</span> <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, ....</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
</tr>
</tbody>
</table>
</blockquote>
<p>In legacy HTML help, Greek letters (both cases) will be rendered if preceded by a backslash, <code class="code">\dots</code> and <code class="code">\ldots</code> will be rendered as ellipses and <code class="code">\sqrt</code>, <code class="code">\ge</code> and <code class="code">\le</code> as mathematical symbols.</p>
<p>Note that only basic LaTeX can be used, there being no provision to specify LaTeX style files, but AMS extensions are supported as from R 4.2.2.</p>
</section>
<section id="figures" class="level2 section" data-number="2.7">
<h2 class="section anchored" data-number="2.7" data-anchor-id="figures"><span class="header-section-number">2.7</span> Figures</h2>
<p>To include figures in help pages, use the <code class="code">\figure</code> markup. There are three forms.</p>
<p>The two commonly used simple forms are <code class="code">\figure{</code><var class="var">filename</var><code class="code">}</code> and <code class="code">\figure{</code><var class="var">filename</var><code class="code">}{</code><var class="var">alternate text</var><code class="code">}</code>. This will include a copy of the figure in either HTML or LaTeX output. In text output, the alternate text will be displayed instead. (When the second argument is omitted, the filename will be used.) Both the filename and the alternate text will be parsed verbatim, and should not include special characters that are significant in HTML or LaTeX.</p>
<p>The expert form is <code class="code">\figure{</code><var class="var">filename</var><code class="code">}{options:</code><var class="var">string</var><code class="code">}</code>. (The word <samp class="samp">options:</samp>’ must be typed exactly as shown and followed by at least one space.) In this form, the <var class="var">string</var> is copied into the HTML <code class="code">img</code> tag as attributes following the <code class="code">src</code> attribute, or into the second argument of the <code class="code">\Figure</code> macro in LaTeX, which by default is used as options to an <code class="code">\includegraphics</code> call. As it is unlikely that any single string would suffice for both display modes, the expert form would normally be wrapped in conditionals. It is up to the author to make sure that legal HTML/LaTeX is used. For example, to include a logo in both HTML (using the simple form) and LaTeX (using the expert form), the following could be used:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\if</span>{html}{<span class="fu">\figure</span>{Rlogo.svg}{options: width=100 alt="R logo"}}</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\if</span>{latex}{<span class="fu">\figure</span>{Rlogo.pdf}{options: width=0.5in}}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The files containing the figures should be stored in the directory <samp class="file">man/figures</samp>. Files with extensions <samp class="file">.jpg</samp>, <samp class="file">.jpeg</samp>, <samp class="file">.pdf</samp>, <samp class="file">.png</samp> and <samp class="file">.svg</samp> from that directory will be copied to the <samp class="file">help/figures</samp> directory at install time. (Figures in PDF format will not display in most HTML browsers, but might be the best choice in reference manuals.) Specify the filename relative to <samp class="file">man/figures</samp> in the <code class="code">\figure</code> directive.</p>
</section>
<section id="insertions" class="level2 section" data-number="2.8">
<h2 class="section anchored" data-number="2.8" data-anchor-id="insertions"><span class="header-section-number">2.8</span> Insertions</h2>
<p>Use <code class="code">\R</code> for the R system itself. The <code class="code">\dots</code> <span id="index-_005cdots" class="index-entry-id"></span> macro is a historical alternative to using literal <samp class="samp">...</samp>’ for the dots in function argument lists; use <code class="code">\ldots</code> <span id="index-_005cldots" class="index-entry-id"></span> for ellipsis dots in ordinary text.<a href="#FOOT124" id="DOCF124" class="footnote"><sup>124</sup></a> These macros can be followed by <code class="code">{}</code>, and should be unless followed by whitespace.</p>
<p>After an unescaped <samp class="samp">%</samp>’, you can put your own comments regarding the help text. The rest of the line (but not the newline at the end) will be completely disregarded. Therefore, you can also use it to make part of the “help” invisible.</p>
<p>You can produce a backslash (<samp class="samp">\</samp>’) by escaping it by another backslash. (Note that <code class="code">\cr</code> is used for generating line breaks.)</p>
<p>The “comment” character <samp class="samp">%</samp>’ and unpaired braces<a href="#FOOT125" id="DOCF125" class="footnote"><sup>125</sup></a> <em>almost always</em> need to be escaped by <samp class="samp">\</samp>‘, and <samp class="samp">\\</samp>’ can be used for backslash and needs to be when there are two or more adjacent backslashes. In R-like code quoted strings are handled slightly differently; see <a href="https://developer.r-project.org/parseRd.pdf" class="uref">“Parsing Rd files”</a> for details – in particular braces should not be escaped in quoted strings.</p>
<p>All of <samp class="samp">% { } \</samp>’ should be escaped in LaTeX-like text.</p>
<p>Text which might need to be represented differently in different encodings should be marked by <code class="code">\enc</code>, e.g. <code class="code">\enc{Jöreskog}{Joreskog}</code> (with no whitespace between the braces) where the first argument will be used where encodings are allowed and the second should be ASCII (and is used for e.g.&nbsp;the text conversion in locales that cannot represent the encoded form). (This is intended to be used for individual words, not whole sentences or paragraphs.)</p>
</section>
<section id="indices" class="level2 section" data-number="2.9">
<h2 class="section anchored" data-number="2.9" data-anchor-id="indices"><span class="header-section-number">2.9</span> Indices</h2>
<p>The <code class="code">\alias</code> command (see <a href="#documenting-functions" class="pxref">Documenting functions</a>) is used to specify the “topics” documented, which should include <em>all</em> R objects in a package such as functions and variables, data sets, and S4 classes and methods (see <a href="#documenting-s4-classes-and-methods" class="pxref">Documenting S4 classes and methods</a>). The on-line help system searches the index data base consisting of all alias topics.</p>
<p>In addition, it is possible to provide “concept index entries” using <code class="code">\concept</code>, which can be used for <code class="code">help.search()</code> lookups. E.g., file <samp class="file">cor.test.Rd</samp> in the standard package <strong>stats</strong> contains</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\concept</span>{Kendall correlation coefficient}</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\concept</span>{Pearson correlation coefficient}</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">\concept</span>{Spearman correlation coefficient}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>so that e.g.&nbsp;<kbd><kbd>??Spearman</kbd></kbd> will succeed in finding the help page for the test for association between paired samples using Spearman’s rho.</p>
<p>(Note that <code class="code">help.search()</code> only uses “sections” of documentation objects with no additional markup.)</p>
<p>Each <code class="code">\concept</code> entry should give a <em>single</em> index term (word or phrase), and not use any Rd markup.</p>
<p>If you want to cross reference such items from other help files <em>via</em> <code class="code">\link</code>, you need to use <code class="code">\alias</code> and not <code class="code">\concept</code>.</p>
</section>
<section id="platform-specific-documentation" class="level2 section" data-number="2.10">
<h2 class="section anchored" data-number="2.10" data-anchor-id="platform-specific-documentation"><span class="header-section-number">2.10</span> Platform-specific documentation</h2>
<p>Sometimes the documentation needs to differ by platform. Currently two OS-specific options are available, <samp class="samp">unix</samp>’ and <samp class="samp">windows</samp>’, and lines in the help source file can be enclosed in</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode c code-with-copy"><code class="sourceCode c"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#ifdef OS</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>   <span class="op">...</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#endif</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>or</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode c code-with-copy"><code class="sourceCode c"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#ifndef OS</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>   <span class="op">...</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#endif</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>for OS-specific inclusion or exclusion. Such blocks should not be nested, and should be entirely within a block (that, is between the opening and closing brace of a section or item), or at top-level contain one or more complete sections.</p>
<p>If the differences between platforms are extensive or the R objects documented are only relevant to one platform, platform-specific <samp class="file">Rd</samp> files can be put in a <samp class="file">unix</samp> or <samp class="file">windows</samp> subdirectory.</p>
</section>
<section id="conditional-text" class="level2 section" data-number="2.11">
<h2 class="section anchored" data-number="2.11" data-anchor-id="conditional-text"><span class="header-section-number">2.11</span> Conditional text</h2>
<p><span id="index-conditionals" class="index-entry-id"></span> <span id="index-_005cif" class="index-entry-id"></span> <span id="index-_005cifelse" class="index-entry-id"></span></p>
<p>Occasionally the best content for one output format is different from the best content for another. For this situation, the <code class="code">\if{</code><var class="var">format</var><code class="code">}{</code><var class="var">text</var><code class="code">}</code> or <code class="code">\ifelse{</code><var class="var">format</var><code class="code">}{</code><var class="var">text</var><code class="code">}{</code><var class="var">alternate</var><code class="code">}</code> markup is used. Here <var class="var">format</var> is a comma separated list of formats in which the <var class="var">text</var> should be rendered. The <var class="var">alternate</var> will be rendered if the format does not match. Both <var class="var">text</var> and <var class="var">alternate</var> may be any sequence of text and markup.</p>
<p>Currently the following formats are recognized: <code class="code">example</code>, <code class="code">html</code>, <code class="code">latex</code> and <code class="code">text</code>. These select output for the corresponding targets. (Note that <code class="code">example</code> refers to extracted example code rather than the displayed example in some other format.) Also accepted are <code class="code">TRUE</code> (matching all formats) and <code class="code">FALSE</code> (matching no formats). These could be the output of the <code class="code">\Sexpr</code> macro (see <a href="#dynamic-pages" class="pxref">Dynamic pages</a>).</p>
<p>The <code class="code">\out{</code><var class="var">literal</var><code class="code">}</code> macro would usually be used within the <var class="var">text</var> part of <code class="code">\if{</code><var class="var">format</var><code class="code">}{</code><var class="var">text</var><code class="code">}</code>. It causes the renderer to output the literal text exactly, with no attempt to escape special characters. For example, use the following to output the markup necessary to display the Greek letter in LaTeX or HTML, and the text string <code class="code">alpha</code> in other formats:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\ifelse</span>{latex}{<span class="fu">\out</span>{<span class="ss">$</span><span class="sc">\alpha</span><span class="ss">$</span>}}{<span class="fu">\ifelse</span>{html}{<span class="fu">\out</span>{&amp;alpha;}}{alpha}}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="dynamic-pages" class="level2 section" data-number="2.12">
<h2 class="section anchored" data-number="2.12" data-anchor-id="dynamic-pages"><span class="header-section-number">2.12</span> Dynamic pages</h2>
<p><span id="index-dynamic-pages" class="index-entry-id"></span> <span id="index-_005cSexpr" class="index-entry-id"></span> <span id="index-_005cRdOpts" class="index-entry-id"></span></p>
<p>Two macros supporting dynamically generated man pages are <code class="code">\Sexpr</code> and <code class="code">\RdOpts</code>. These are modelled after Sweave, and are intended to contain executable R expressions in the <samp class="file">Rd</samp> file.</p>
<p>The main argument to <code class="code">\Sexpr</code> must be valid R code that can be executed. It may also take options in square brackets before the main argument. Depending on the options, the code may be executed at package build time, package install time, or man page rendering time.</p>
<p>The options follow the same format as in Sweave, but different options are supported. Currently the allowed options and their defaults are:</p>
<ul>
<li><p><code class="code">eval=TRUE</code> Whether the R code should be evaluated.</p></li>
<li><p><code class="code">echo=FALSE</code> Whether the R code should be echoed. If <code class="code">TRUE</code> <em>and</em> <code class="code">results=verbatim</code>, a display will be given in a preformatted block. For example, <code class="code">\Sexpr[echo=TRUE,results=verbatim]{ x &lt;- 1 }</code> will be displayed as <code>r     &gt; x &lt;- 1</code></p></li>
<li><p><code class="code">keep.source=TRUE</code> Whether to keep the author’s formatting when displaying the code, or throw it away and use a deparsed version.</p></li>
<li><p><code class="code">results=text</code> How should the results be displayed? The possibilities are:</p>
<ul>
<li><code class="code">results=text</code> Apply <code class="code">as.character()</code> to the result of the code, and insert it as a text element.</li>
<li><code class="code">results=verbatim</code> Print the results of the code just as if it was executed at the console, and include the printed results verbatim. (Invisible results will not print.)</li>
<li><code class="code">results=rd</code> The result is assumed to be a character vector containing markup to be passed to <code class="code">parse_Rd()</code>, with the result inserted in place. This could be used to insert computed aliases, for instance. <code class="code">parse_Rd()</code> is called first with <code class="code">fragment = FALSE</code> to allow a single Rd section macro to be inserted. If that fails, it is called again with <code class="code">fragment = TRUE</code>, the older behavior.</li>
<li><code class="code">results=hide</code> Insert no output.</li>
</ul></li>
<li><p><code class="code">strip.white=true</code> Remove leading and trailing blank lines in verbatim output if <code class="code">strip.white=true</code> (or <code class="code">TRUE</code>). With <code class="code">strip.white=all</code>, remove all blank lines.</p></li>
<li><p><code class="code">stage=install</code> Control when this macro is run. Possible values are</p>
<ul>
<li><code class="code">stage=build</code> The macro is run when building a source tarball.</li>
<li><code class="code">stage=install</code> The macro is run when installing from source.</li>
<li><code class="code">stage=render</code> The macro is run when displaying the help page.</li>
</ul>
<p>Conditionals such as <code class="code">#ifdef</code> (see <a href="#platform-specific-sections" class="pxref">Platform-specific documentation</a>) are applied after the <code class="code">build</code> macros but before the <code class="code">install</code> macros. In some situations (e.g.&nbsp;installing directly from a source directory without a tarball, or building a binary package) the above description is not literally accurate, but authors can rely on the sequence being <code class="code">build</code>, <code class="code">#ifdef</code>, <code class="code">install</code>, <code class="code">render</code>, with all stages executed.</p>
<p>Code is only run once in each stage, so a <code class="code">\Sexpr[results=rd]</code> macro can output an <code class="code">\Sexpr</code> macro designed for a later stage, but not for the current one or any earlier stage.</p></li>
<li><p><code class="code">width, height, fig</code> These options are currently allowed but ignored.</p></li>
</ul>
<p>The <code class="code">\RdOpts</code> macro is used to set new defaults for options to apply to following uses of <code class="code">\Sexpr</code>.</p>
<p>For more details, see the online document <a href="https://developer.r-project.org/parseRd.pdf" class="uref">“Parsing Rd files”</a>.</p>
</section>
<section id="user-defined-macros" class="level2 section" data-number="2.13">
<h2 class="section anchored" data-number="2.13" data-anchor-id="user-defined-macros"><span class="header-section-number">2.13</span> User-defined macros</h2>
<p><span id="index-_005cnewcommand" class="index-entry-id"></span> <span id="index-_005crenewcommand" class="index-entry-id"></span></p>
<p>The <code class="code">\newcommand</code> and <code class="code">\renewcommand</code> macros allow new macros to be defined within an Rd file. These are similar but not identical to the same-named LaTeX macros.</p>
<p>They each take two arguments which are parsed verbatim. The first is the name of the new macro including the initial backslash, and the second is the macro definition. As in LaTeX, <code class="code">\newcommand</code> requires that the new macro not have been previously defined, whereas <code class="code">\renewcommand</code> allows existing macros (including all built-in ones) to be replaced. (This test is disabled by default, but may be enabled by setting the environment variable <code class="env">_R_WARN_DUPLICATE_RD_MACROS_</code> to a true value.)</p>
<p>Also as in LaTeX, the new macro may be defined to take arguments, and numeric placeholders such as <code class="code">#1</code> are used in the macro definition. However, unlike LaTeX, the number of arguments is determined automatically from the highest placeholder number seen in the macro definition. For example, a macro definition containing <code class="code">#1</code> and <code class="code">#3</code> (but no other placeholders) will define a three argument macro (whose second argument will be ignored). As in LaTeX, at most 9 arguments may be defined. If the <code class="code">#</code> character is followed by a non-digit it will have no special significance. All arguments to user-defined macros will be parsed as verbatim text, and simple text-substitution will be used to replace the place-holders, after which the replacement text will be parsed.</p>
<p>A number of macros are defined in the file <samp class="file">share/Rd/macros/system.Rd</samp> of the R source or home directory, and these will normally be available in all <samp class="file">.Rd</samp> files. For example, that file contains the definition</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>\newcommand{\PR}{\Sexpr[results=rd]{tools:::Rd_expr_PR(#1)}}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>which defines <code class="code">\PR</code> to be a single argument macro; then code (typically used in the <samp class="file">NEWS.Rd</samp> file) like</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\PR</span>{1234}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>will expand to</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>\Sexpr[results=rd]{tools:::Rd_expr_PR(1234)}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>when parsed.</p>
<p>Some macros that might be of general use are:</p>
<p>: A package on CRAN</p>
<p>: A single space (used after a period that does not end a sentence).</p>
<p>: A digital object identifier (DOI).</p>
<p>See the <samp class="file">system.Rd</samp> file in <samp class="file">share/Rd/macros</samp> for more details and macro definitions, including macros <code class="code">\packageTitle</code>, <code class="code">\packageDescription</code>, <code class="code">\packageAuthor</code>, <code class="code">\packageMaintainer</code>, <code class="code">\packageDESCRIPTION</code> and <code class="code">\packageIndices</code>.</p>
<p>Packages may also define their own common macros; these would be stored in an <samp class="file">.Rd</samp> file in <samp class="file">man/macros</samp> in the package source and will be installed into <samp class="file">help/macros</samp> when the package is installed. A package may also use the macros from a different package by listing the other package in the <samp class="samp">RdMacros</samp>’ field in the <samp class="file">DESCRIPTION</samp> file.</p>
</section>
<section id="encoding" class="level2 section" data-number="2.14">
<h2 class="section anchored" data-number="2.14" data-anchor-id="encoding"><span class="header-section-number">2.14</span> Encoding</h2>
<p>Rd files are text files and so it is impossible to deduce the encoding they are written in unless ASCII: files with 8-bit characters could be UTF-8, Latin-1, Latin-9, KOI8-R, EUC-JP, <em>etc</em>. So an <code class="code">\encoding{}</code> section must be used to specify the encoding if it is not ASCII. (The <code class="code">\encoding{}</code> section must be on a line by itself, and in particular one containing no non-ASCII characters. The encoding declared in the <samp class="file">DESCRIPTION</samp> file will be used if none is declared in the file.) The <samp class="file">Rd</samp> files are converted to UTF-8 before parsing and so the preferred encoding for the files themselves is now UTF-8.</p>
<p>Wherever possible, avoid non-ASCII chars in <samp class="file">Rd</samp> files, and even symbols such as <samp class="samp">&lt;</samp>‘, <samp class="samp">&gt;</samp>’, <samp class="samp">$</samp>‘, <samp class="samp">^</samp>’, <samp class="samp">&amp;</samp>‘, <samp class="samp">|</samp>’, <samp class="samp">@</samp>‘, <samp class="samp">~</samp>’, and <samp class="samp">*</samp>’ outside ‘verbatim’ environments (since they may disappear in fonts designed to render text). (Function <code class="code">showNonASCIIfile</code> in package <strong>tools</strong> can help in finding non-ASCII bytes in the files.)</p>
<p>For convenience, encoding names <samp class="samp">latin1</samp>’ and <samp class="samp">latin2</samp>’ are always recognized: these and <samp class="samp">UTF-8</samp>’ are likely to work fairly widely. However, this does not mean that all characters in UTF-8 will be recognized, and the coverage of non-Latin characters<a href="#FOOT126" id="DOCF126" class="footnote"><sup>126</sup></a> is fairly low. Using LaTeX <code class="code">inputenx</code> (see <code class="code">?Rd2pdf</code> in R) will give greater coverage of UTF-8.</p>
<p>The <code class="code">\enc</code> command (see <a href="#insertions" class="pxref">Insertions</a>) can be used to provide transliterations which will be used in conversions that do not support the declared encoding.</p>
<p>The LaTeX conversion converts the file to UTF-8 from the declared encoding, and includes a</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\inputencoding</span>{utf8}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>command, and this needs to be matched by a suitable invocation of the <code class="command">\usepackage{inputenc}</code> command. The R utility <code class="command">R CMD Rd2pdf</code> looks at the converted code and includes the encodings used: it might for example use</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="bu">\usepackage</span>[utf8]{<span class="ex">inputenc</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>(Use of <code class="code">utf8</code> as an encoding requires LaTeX dated 2003/12/01 or later. Also, the use of Cyrillic characters in <samp class="samp">UTF-8</samp>’ appears to also need <samp class="samp">\usepackage[T2A]{fontenc}</samp>’, and <code class="command">R CMD Rd2pdf</code> includes this conditionally on the file <samp class="file">t2aenc.def</samp> being present and environment variable <code class="env">_R_CYRILLIC_TEX_</code> being set.)</p>
<p>Note that this mechanism works best with Latin letters: the coverage of UTF-8 in LaTeX is quite low.</p>
</section>
<section id="processing-documentation-files" class="level2 section" data-number="2.15">
<h2 class="section anchored" data-number="2.15" data-anchor-id="processing-documentation-files"><span class="header-section-number">2.15</span> Processing documentation files</h2>
<p>There are several commands to process Rd files from the system command line.</p>
<p>Using <code class="code">R CMD Rdconv</code> one can convert R documentation format to other formats, or extract the executable examples for run-time testing. The currently supported conversions are to plain text, HTML and LaTeX as well as extraction of the examples.</p>
<p><code class="code">R CMD Rd2pdf</code> generates PDF output from documentation in <samp class="file">Rd</samp> files, which can be specified either explicitly or by the path to a directory with the sources of a package. In the latter case, a reference manual for all documented objects in the package is created, including the information in the <samp class="file">DESCRIPTION</samp> files.</p>
<p><span id="index-R-CMD-Sweave" class="index-entry-id"></span> <span id="index-R-CMD-Stangle" class="index-entry-id"></span></p>
<p><code class="code">R CMD Sweave</code> and <code class="code">R CMD Stangle</code> process vignette-like documentation files (e.g.&nbsp;Sweave vignettes with extension <samp class="samp">.Snw</samp>’ or <samp class="samp">.Rnw</samp>’, or other non-Sweave vignettes). <code class="code">R CMD Stangle</code> is used to extract the R code fragments.</p>
<p>The exact usage and a detailed list of available options for all of these commands can be obtained by running <code class="code">R CMD</code><var class="var">command</var><code class="code">--help</code>, e.g., <kbd><kbd>R CMD Rdconv --help</kbd></kbd>. All available commands can be listed using <kbd><kbd>R --help</kbd></kbd> (or <kbd><kbd>Rcmd --help</kbd></kbd> under Windows).</p>
<p>All of these work under Windows. You may need to have installed the the tools to build packages from source as described in the “R Installation and Administration” manual, although typically all that is needed is a LaTeX installation.</p>
</section>
<section id="editing-rd-files" class="level2 section" data-number="2.16">
<h2 class="section anchored" data-number="2.16" data-anchor-id="editing-rd-files"><span class="header-section-number">2.16</span> Editing Rd files</h2>
<p>It can be very helpful to prepare <samp class="file">.Rd</samp> files using a editor which knows about their syntax and will highlight commands, indent to show the structure and detect mis-matched braces, and so on.</p>
<p>The system most commonly used for this is some version of <code class="command">Emacs</code> (including <code class="command">XEmacs</code>) with the ESS package (<a href="https://ESS.R-project.org/" class="uref">https://ESS.R-project.org/</a>: it is often is installed with <code class="command">Emacs</code> but may need to be loaded, or even installed, separately).</p>
<p>Another is the Eclipse IDE with the Stat-ET plugin (<a href="https://projects.eclipse.org/projects/science.statet" class="uref">https://projects.eclipse.org/projects/science.statet</a>), and (on Windows only) Tinn-R (<a href="https://sourceforge.net/projects/tinn-r/" class="uref">https://sourceforge.net/projects/tinn-r/</a>).</p>
<p>People have also used LaTeX mode in a editor, as <samp class="file">.Rd</samp> files are rather similar to LaTeX files.</p>
<p>Some R front-ends provide editing support for <samp class="file">.Rd</samp> files, for example RStudio (<a href="https://posit.co/" class="uref">https://posit.co/</a>).</p>

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
            // default icon
            link.classList.add("external");
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Creating-R-packages.html" class="pagination-link" aria-label="Creating R packages">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Creating R packages</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Tidying-and-profiling-R-code.html" class="pagination-link" aria-label="Tidying and profiling R code">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Tidying and profiling R code</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>A re-styled version of the original R manuals at <a href="https://cran.r-project.org/manuals.html" class="uri">https://cran.r-project.org/manuals.html</a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Built using <a href="https://quarto.org">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>